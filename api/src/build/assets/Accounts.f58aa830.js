var x=Object.defineProperty;var l=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var d=(a,t,s)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,m=(a,t)=>{for(var s in t||(t={}))y.call(t,s)&&d(a,s,t[s]);if(l)for(var s of l(t))k.call(t,s)&&d(a,s,t[s]);return a};import{t as i,L as D}from"./vendor.b272e12a.js";import{S as w}from"./sweetalert2.24b5b669.js";import{c as v,d as C,u as L,a as o,L as N,D as E,h as S,j as r}from"./index.eb6b2ee8.js";import{u as f}from"./users.service.a5c69e27.js";const T=()=>{const{verifySession:a}=v(),{isLoading:t,hookData:s,refreshData:u}=C(()=>a(f.List),[]),{navigate:n}=L(),b=async e=>{w.fire(m({text:`\xBFDesea eliminar al usuario con el correo '${e.correo}'?`,icon:"info"},S.alertConfig)).then(async h=>{if(h.isConfirmed){const c=await a(()=>f.Delete(e.id));if(!c.status)return i.error(c.statusText);i.success("Usuario eliminado correctamente"),await u()}})},p=e=>{n(`/accounts/edit/${e.id}`)},g=e=>{if(console.log(e),e.rol==="Administrador")return i.error("Los administradores no cuentan con un perfil");if(e.rol==="Egresado")return n(`/graduated/details/${e.id}`);if(e.rol==="Empresa")return n(`/companies/details/${e.id}`)};return o("div",{className:"mt-2",children:t?o(N,{color:"purple"}):o(E,{data:s,title:"Registros",emptyDataText:"Sin registros",searchText:"Buscando por",filtersConfig:{id:"Folio",correo:"Correo",rol:"Rol"},renameHeaders:{id:"Folio",correo:"Correo",fk_rol:"Rol"},actions:!0,actionsText:"Opciones",actionElement:{element:"id",className:"btn btn-link text-purple font-weight-bolder",action:e=>g(e)},buttons:{buttons:[{key:"btnEdit",text:"Editar",style:"btn btn-info m-1 btn-sm",fwicon:"fas fa-pen fa-sm",click:e=>p(e)},{key:"btnDelete",text:"Eliminar",style:"btn btn-danger m-1 btn-sm",fwicon:"fas fa-times",click:e=>b(e)}]}.buttons})})},P=()=>r("div",{className:"container-fluid",children:[r("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[o("h1",{className:"h3 mb-0 text-gray-800",children:"Cuentas"}),r(D,{to:"/accounts/add",className:"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm",children:[o("i",{className:"fas fa-plus fa-sm text-white"})," Nueva cuenta"]})]}),o(T,{})]});export{P as default};
