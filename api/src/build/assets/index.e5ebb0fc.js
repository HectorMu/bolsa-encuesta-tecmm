var dt=Object.defineProperty,ut=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var Ie=(t,a,r)=>a in t?dt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,T=(t,a)=>{for(var r in a||(a={}))$e.call(a,r)&&Ie(t,r,a[r]);if(pe)for(var r of pe(a))Oe.call(a,r)&&Ie(t,r,a[r]);return t},G=(t,a)=>ut(t,mt(a));var ve=(t,a)=>{var r={};for(var n in t)$e.call(t,n)&&a.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&pe)for(var n of pe(t))a.indexOf(n)<0&&Oe.call(t,n)&&(r[n]=t[n]);return r};import{j as _e,u as J,L as F,r as p,S as Y,t as b,N as z,a as ht,b as pt,c as ie,_ as Ee,m as ce,A as ft,R as gt,d as bt,T as xt,e as vt,B as Nt}from"./vendor.cf6a03bc.js";const yt=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerpolicy&&(d.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?d.credentials="include":o.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}};yt();const je="http://137.184.185.237:4000",S=`${je}/api`,f={};f.postConfig=t=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});f.authPostConfig=t=>t?{method:"POST",headers:{"Content-Type":"application/json",Authorization:f.getAndSetAccessToken()},body:JSON.stringify(t)}:{method:"POST",headers:{"Content-Type":"application/json",Authorization:f.getAndSetAccessToken()}};f.authPutConfig=t=>t?{method:"PUT",headers:{"Content-Type":"application/json",Authorization:f.getAndSetAccessToken()},body:JSON.stringify(t)}:{method:"PUT",headers:{"Content-Type":"application/json",Authorization:f.getAndSetAccessToken()}};f.authGetConfig=()=>({method:"GET",headers:{"Content-Type":"application/json",Authorization:f.getAndSetAccessToken()}});f.authDeleteConfig=()=>({method:"DELETE",headers:{"Content-Type":"application/json",Authorization:f.getAndSetAccessToken()}});f.getAndSetAccessToken=()=>`Bearer ${JSON.parse(window.localStorage.getItem("BETECMMSession")).AccessToken}`;f.ApiFetchError=(t,a)=>window.navigator.onLine?t==="Failed to fetch"?{status:!1,error:!0,message:"Conexi\xF3n con el servidor perdida"}:{status:!1,error:!0,message:`${a!==void 0&&a.length>0?a:"Algo pas\xF3, cont\xE1cta al \xE1rea de sistemas"}`}:{status:!1,error:!0,message:"Revisa tu conexi\xF3n a internet"};f.alertConfig={showCancelButton:!0,confirmButtonColor:"#0d6efd",cancelButtonColor:"#bb2d3b",confirmButtonText:"Si",cancelButtonText:"No"};const V={};V.Login=async t=>{try{return await(await fetch(`${S}/login`,f.postConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};V.Logout=()=>{window.localStorage.removeItem("BETECMMSession")};V.sendRecoverEmail=async t=>{try{return await(await fetch(`${S}/recover-password/`,f.postConfig({email:t}))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};V.validateRecoverPasswordToken=async t=>{try{return await(await fetch(`${S}/verify-reset-token/${t}`)).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};V.resetPasswordAccount=async(t,a)=>{try{return await(await fetch(`${S}/reset-password/${a}`,f.postConfig(t))).json()}catch(r){return console.log(r),f.ApiFetchError(r.message)}};V.getResourcesFromPublicFolder=async t=>{try{const r=await(await fetch(`${je}/${t}`,f.authGetConfig())).blob();return URL.createObjectURL(r)}catch(a){return console.log(a),f.ApiFetchError(a.message)}};const e=_e.exports.jsx,s=_e.exports.jsxs,C=_e.exports.Fragment,wt=({user:t,setUser:a})=>{const r=J(),n=()=>{a(null),V.Logout(),r("/login")};return s(C,{children:[e("div",{className:"topbar-divider d-none d-sm-block"}),s("li",{className:"nav-item dropdown no-arrow",children:[s("a",{className:"nav-link dropdown-toggle",href:"#xd",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e("span",{className:"mr-2 d-none d-lg-inline text-white small",children:t.correo.length>10?t.correo.substring(0,10)+"...":t.correo}),e("img",{className:"img-profile rounded-circle",src:`https://ui-avatars.com/api/?name=${t.correo}`})]}),s("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown",children:[s(F,{className:"dropdown-item",to:"/profile",children:[e("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"Perfil"]}),e("div",{className:"dropdown-divider"}),s("button",{onClick:n,className:"dropdown-item",children:[e("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Cerrar sesi\xF3n"]})]})]})]})},St=async()=>{try{return await(await fetch(`${S}/user/profile`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},Ct=async t=>{try{return await(await fetch(`${S}/user/profile/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var Se={getProfile:St,saveOrUpdateProfile:Ct};const Be=p.exports.createContext();function _t({children:t}){const a=JSON.parse(window.localStorage.getItem("BETECMMSession")),[r,n]=p.exports.useState(a),o=J(),d=async(c,u=null)=>{const l=await c();if("authorized"in l&&!l.authorized){const{value:i}=await Y.fire({title:"Tu sesi\xF3n ha expirado.",input:"password",inputLabel:"Ingresa tu contrase\xF1a para seguir utilizando la app.",inputPlaceholder:"Tu contrase\xF1a",inputAttributes:{autocapitalize:"off",autocorrect:"off"},preConfirm:m=>{if(!m.length>0)return Y.showValidationMessage("Ingresa una contrase\xF1a.")}});if(i){const m={correo:r.correo,clave:i},g=await V.Login(m);if(!g.status){b.error(g.statusText),await d(c,u);return}const x=g.SessionData;if(window.localStorage.setItem("BETECMMSession",JSON.stringify(x)),n(JSON.parse(window.localStorage.getItem("BETECMMSession"))),u!==null){b.success("Sesi\xF3n revalidada, reanudando..."),u();return}b.dismiss(),b.success("Sesi\xF3n revalidada, intentalo de nuevo...")}return}return l},h=async()=>{const c=await Se.getProfile();c!=null&&"authorized"in c&&(c.authorized||(n(null),window.localStorage.removeItem("BETECMMSession"),o("/login"),b.error("Tu sesi\xF3n expiro.")))};return p.exports.useEffect(()=>{h()},[]),p.exports.useEffect(()=>(window.addEventListener("storage",()=>{n(JSON.parse(window.localStorage.getItem("BETECMMSession")))}),()=>{window.removeEventListener("storage",n(null))}),[]),e(Be.Provider,{value:{user:r,setUser:n,verifySession:d},children:t})}const k=()=>p.exports.useContext(Be);var Et="/assets/LogoTec.51e9a599.svg";const jt=({sidebarControl:{handleSidebarToggle:t}})=>{const{user:a,setUser:r}=k();return s("nav",{className:"navbar navbar-expand navbar-light bg-green topbar static-top shadow fixed-top",children:[e(F,{className:"navbar-brand text-white font-weight-bolder",to:"/",children:e("img",{src:Et,className:"ml-2 navbar-responsive-size",alt:""})}),e("ul",{className:"navbar-nav ml-auto",children:a!==null?e(C,{children:e(wt,{user:a,setUser:r})}):null}),e("button",{className:"btn btn-primary d-md-block d-lg-block d-xl-none btn-sm ",onClick:t,children:e("i",{className:"fa fa-bars"})})]})},kt=({sidebarControl:{sidebarToggled:t,handleSidebarToggle:a}})=>{const{user:r}=k();return r===null?e(C,{}):s("aside",{className:`c-sidebar  ${t?"active ":""} `,children:[e("div",{className:"d-flex justify-content-end"}),r.fk_rol===1?e(C,{children:s("nav",{className:"menu",children:[s(z,{to:"/",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-fw fa-tachometer-alt"})," Dashboard"]}),e("hr",{className:"c-sidebar-divider"}),e("div",{className:"heading",children:e("p",{children:"Usuarios"})}),s(z,{to:"/accounts",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-users"})," Cuentas"]}),s(z,{to:"/companies",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-building"})," Empresas"]}),s(z,{to:"/graduates",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-user-graduate"})," Egresados"]}),e("hr",{className:"c-sidebar-divider"}),e("div",{className:"heading",children:e("p",{children:"Bolsa de trabajo"})}),s(z,{to:"/jobbank",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-envelope"})," Postulaciones"]})," ",e("hr",{className:"c-sidebar-divider"}),e("div",{className:"heading",children:e("p",{children:"Encuestas"})}),s(z,{to:"/surveys/reports/",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-print"})," Reportes"]}),e("hr",{className:"c-sidebar-divider"})]})}):null,r.fk_rol===2?e(C,{children:s("nav",{className:"menu",children:[s(z,{to:"/graduated/survey",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-poll-h"})," Encuesta"]}),e("hr",{className:"c-sidebar-divider"}),e("div",{className:"heading",children:e("p",{children:"Bolsa de trabajo"})}),s(z,{to:"/graduated/jobbank/jobs",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-briefcase"})," Trabajos"]}),s(z,{to:"/graduated/jobbank/postulations",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-envelope"})," Mis postulaciones"]}),e("hr",{className:"c-sidebar-divider"})]})}):null,r.fk_rol===3?e(C,{children:s("nav",{className:"menu",children:[s(z,{to:"/",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-fw fa-tachometer-alt"})," Dashboard"]}),e("hr",{className:"c-sidebar-divider"}),s(z,{to:"/company/survey",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-poll-h"})," Encuesta"]}),e("hr",{className:"c-sidebar-divider"}),e("div",{className:"heading",children:e("p",{children:"Bolsa de trabajo"})}),s(z,{to:"/company/jobbank",className:"menu-item",onClick:()=>a(!t),children:[e("i",{className:"fas fa-briefcase"})," Mis vacantes"]}),e("hr",{className:"c-sidebar-divider"})]})}):null]})},It=({webSite:t="Your Website",year:a="2022"})=>e("footer",{className:"sticky-footer bg-white",children:e("div",{className:"container my-auto",children:e("div",{className:"copyright text-center my-auto",children:s("span",{children:["Copyright \xA9 ",t," ",a]})})})}),$t=({children:t})=>{const[a,r]=p.exports.useState(!1),n=()=>{r(!a)};return s("div",{id:"wrapper",className:"wrapper",children:[e(kt,{sidebarControl:{sidebarToggled:a,handleSidebarToggle:n}}),s("div",{id:"content-wrapper",className:"content d-flex flex-column",children:[e(jt,{sidebarControl:{sidebarToggled:a,handleSidebarToggle:n}}),e("div",{className:"content",style:{paddingTop:"90px"},children:t}),e(It,{webSite:"TecMM"})]})]})},Ot=()=>e("div",{className:"container-fluid",children:e("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:e("h1",{className:"h3 mb-0 text-gray-800",children:"Dashboard"})})}),At=()=>e("div",{className:"container-fluid",children:s("div",{className:"text-center",children:[e("div",{className:"error mx-auto","data-text":404,children:"404"}),e("p",{className:"lead text-gray-800 mb-5",children:"Pagina no encontrada"}),e("p",{className:"text-gray-500 mb-0",children:"Parece que el recurso que buscas no existe..."}),e(F,{className:"text-purple",to:"/",children:"\u2190 Regresar"})]})}),w=({type:t="text",inputId:a="default",placeholder:r="default",value:n="",setValue:o=null,setClass:d="",focusAction:h=null,list:c=null,disabled:u=!1,name:l})=>s("div",{className:"formgroup__animated mb-3",children:[e("input",{type:t,name:l,id:a,className:`input__animated ${d}`,placeholder:" ",onChange:o,list:c,defaultValue:n,autoComplete:"off",onFocus:h,disabled:u,required:!0}),e("label",{htmlFor:a,className:"animated__label",children:r===""?"default":r})]}),O=()=>{const t=J(),a=ht(),r=pt();return{navigate:t,location:a,params:r}},Ne={ADMIN:1,GRADUATED:2,COMPANY:3},Ft=t=>{const{navigate:a,location:r}=O();p.exports.useEffect(()=>(t!==null&&a("/"),()=>{var o;const n=(o=r.state)==null?void 0:o.prevLocation;if(n){if((t==null?void 0:t.fk_rol)===Ne.ADMIN){if(n.includes("graduated")||n.includes("company"))return a("/");if(n.includes("/survey/verify"))return a(n);a(n)}if((t==null?void 0:t.fk_rol)===Ne.GRADUATED){if(!n.includes("graduated"))return a("/");a(n)}if((t==null?void 0:t.fk_rol)===Ne.COMPANY){if(!n.includes("company"))return a("/");a(n)}}}),[t,r.state])},Pt={correo:"",clave:""},Tt=()=>{const{user:t,setUser:a}=k(),[r,n]=p.exports.useState(Pt),{navigate:o,location:d}=O(),h=(u,l)=>n(G(T({},r),{[u]:l})),c=async u=>{u.preventDefault();const l=b.loading("Autenticando..."),i=await V.Login(r);if(i!=null&&i.error)return b.error(i.message,{id:l});if(!i.status)return b.error(i.statusText,{id:l});window.localStorage.setItem("BETECMMSession",JSON.stringify(i.SessionData)),a(JSON.parse(window.localStorage.getItem("BETECMMSession"))),o("/"),b.success("Bienvenid@",{id:l})};return p.exports.useEffect(()=>(window.addEventListener("storage",()=>{a(JSON.parse(window.localStorage.getItem("BETECMMSession")))}),()=>{window.removeEventListener("storage",()=>a(null))}),[]),Ft(t),s(C,{children:[s("form",{className:"user",onSubmit:c,autoComplete:"off",children:[e(w,{inputId:"txtCorreo",type:"text",placeholder:"Correo Electronico",setClass:"rounded-pill",setValue:u=>h("correo",u.target.value),value:r.correo}),e(w,{inputId:"txtClave",type:"password",placeholder:"Clave",setClass:"rounded-pill",setValue:u=>h("clave",u.target.value),value:r.clave}),e("button",{className:"btn btn-primary btn-user btn-block",children:"Iniciar sesi\xF3n"})]}),e("hr",{}),e("div",{className:"text-center",children:e(F,{className:"small text-purple",to:"/forgot",children:"\xBFOlvidaste tu contrase\xF1a?"})})]})},Dt=()=>(p.exports.useEffect(()=>{document.title="Control de Egresados | Login"},[]),e("div",{className:"container",children:e("div",{className:"row justify-content-center",children:e("div",{className:"col-xl-10 col-lg-12 col-md-9",children:e("div",{className:"card o-hidden border-0 shadow-lg my-5",children:e("div",{className:"card-body p-0",children:s("div",{className:"row",children:[e("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),e("div",{className:"col-lg-6",children:s("div",{className:"p-5",children:[s("div",{className:"text-center",children:[e("h1",{className:"h4 text-gray-900 mb-4",children:"\xA1Bienvenido!"}),e("h5",{className:" text-gray-900 mb-4",children:"Inicia sesi\xF3n para continuar."})]}),e(Tt,{})]})})]})})})})})})),Lt=()=>{const[t,a]=p.exports.useState("");return s("form",{className:"user",onSubmit:async n=>{n.preventDefault();const o=b.loading("Validando datos y enviando correo..."),d=await V.sendRecoverEmail(t);if(!d.status){b.error(d.statusText,{id:o});return}b.success(d.statusText,{id:o})},autoComplete:"off",children:[e(w,{inputId:"txtCorreo",type:"email",placeholder:"Correo Electronico",setClass:"rounded-pill",setValue:n=>a(n.target.value),value:t}),e("button",{type:"submit",className:"btn btn-primary btn-user btn-block",children:"Enviar"})]})},Rt=()=>e("div",{className:"container",children:e("div",{className:"row justify-content-center",children:e("div",{className:"col-xl-10 col-lg-12 col-md-9",children:e("div",{className:"card o-hidden border-0 shadow-lg my-5",children:e("div",{className:"card-body p-0",children:s("div",{className:"row",children:[e("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),e("div",{className:"col-lg-6",children:s("div",{className:"p-5",children:[s("div",{className:"text-center",children:[e("h1",{className:"h4 text-gray-900 mb-4",children:"Recuperaci\xF3n de contrase\xF1a"}),e("h5",{className:" text-gray-900 mb-4",children:"Ingresa tu correo electr\xF3nico"})]}),e(Lt,{}),e("hr",{}),e("div",{className:"text-center",children:s(F,{className:"small text-purple",to:"/login",children:[e("i",{className:"fas fa-arrow-left"})," Volver"]})})]})})]})})})})})}),q=(t,a)=>{const[r,n]=p.exports.useState(!1),[o,d]=p.exports.useState({}),[h,c]=p.exports.useState({error:!1,message:"No error."}),u=p.exports.useCallback(async()=>{n(!0);const i=await t();if(i!=null&&i.error){c(i),n(!1);return}d(i),n(!1)},a),l=async()=>{await u()};return p.exports.useEffect(()=>{u()},[u]),{isLoading:r,hookData:o,refreshData:l,error:h}},Gt=()=>{const[t,a]=p.exports.useState(""),[r,n]=p.exports.useState(""),{params:o,navigate:d}=O();return s("form",{className:"user",onSubmit:async c=>{c.preventDefault();const u=b.loading("Guardando..."),l=await V.resetPasswordAccount({password:t,confirm:r},o.token);if(!l.status){b.error(l.statusText,{id:u}),d("/login");return}b.success(l.statusText,{id:u}),d("/login")},autoComplete:"off",children:[e(w,{inputId:"txtClave",type:"password",placeholder:"Contrase\xF1a",setClass:"rounded-pill",setValue:c=>a(c.target.value),value:t}),e(w,{inputId:"txtConfirmar",type:"password",placeholder:"Confirmar contrase\xF1a",setClass:"rounded-pill",setValue:c=>n(c.target.value),value:r}),e("button",{type:"submit",className:"btn btn-primary btn-user btn-block",children:"Cambiar contrase\xF1a"})]})},j=({text:t="Loading...",color:a="primary",small:r})=>e("div",{className:"d-flex justify-content-center",children:e("div",{className:`spinner-border text-${a} ${r?"spinner-border-sm":""}`})}),Mt=()=>{const{params:t,navigate:a}=O(),{hookData:r,isLoading:n}=q(()=>V.validateRecoverPasswordToken(t.token),[t.token]);return p.exports.useLayoutEffect(()=>{var o;r.status||(((o=r==null?void 0:r.statusText)==null?void 0:o.length)>0&&b.error(r==null?void 0:r.statusText),a("/login"))},[r.statusText]),console.log(r),e("div",{className:"container",children:n?s("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[e("h3",{className:"mb-2 text-black",children:"Espera mientras validamos el enlace..."}),e(j,{})]}):e("div",{className:"row justify-content-center",children:e("div",{className:"col-xl-10 col-lg-12 col-md-9",children:e("div",{className:"card o-hidden border-0 shadow-lg my-5",children:e("div",{className:"card-body p-0",children:s("div",{className:"row",children:[e("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),e("div",{className:"col-lg-6",children:s("div",{className:"p-5",children:[s("div",{className:"text-center",children:[e("h1",{className:"h4 text-gray-900 mb-4",children:"Recuperaci\xF3n de contrase\xF1a"}),e("h5",{className:" text-gray-900 mb-4",children:"Ingresa tu nueva contrase\xF1a"})]}),e(Gt,{}),e("hr",{}),e("div",{className:"text-center",children:s(F,{className:"small text-purple",to:"/login",children:[e("i",{className:"fas fa-arrow-left"})," Ir al Login"]})})]})})]})})})})})})},Bt=[{path:"/login",element:e(Dt,{})},{path:"/forgot",element:e(Rt,{})},{path:"/reset/:token/",element:e(Mt,{})}],B=({view:t})=>{const{user:a}=k(),{location:r}=O();return a!==null&&a.fk_rol===1?e(t,{}):e(ie,{to:"/login",replace:!0,state:{prevLocation:r.pathname}})},me=({title:t="Default title",firstColumnKey:a="id",data:r=[],buttons:n=[{key:"default1",text:"Default button",style:"btn btn-secondary mx-1 btn-sm",fwicon:"fas fa-question",click:v=>{window.alert(`Default action ${v}`)}}],CustomButtons:o=null,actions:d=!1,filtersConfig:h=null,actionsText:c="Actions",searchText:u="Searching by",renameHeaders:l=null,emptyDataText:i="No data",hideColumns:m=[],refreshCallback:g=null,actionElement:x=null})=>{const[v,y]=p.exports.useState([]),[I,_]=p.exports.useState(a),[N,$]=p.exports.useState(I),[R,L]=p.exports.useState("DSC"),[he,ct]=p.exports.useState(""),it=E=>{if(E==="")return y(r);if(N===I){const D=r.filter(M=>M[I].toString()===E);D.length>0&&y(D);return}const Q=r.filter(D=>D[N.toLowerCase()].toString().toLowerCase().includes(E.toLowerCase()));Q.length>0&&y(Q)},ke=E=>{if(ct(E),R==="ASC"){if(Number.isInteger(v[0][E])){const D=[...v.sort((M,re)=>M[E]-re[E])];y(D),L("DSC");return}const Q=[...v.sort((D,M)=>D[E].toString().toLowerCase()>M[E].toString().toLowerCase()?1:-1)];y(Q),L("DSC")}if(R==="DSC"){if(Number.isInteger(v[0][E])){const D=[...v.sort((M,re)=>re[E]-M[E])];y(D),L("ASC");return}const Q=[...v.sort((D,M)=>D[E].toString().toLowerCase()<M[E].toString().toLowerCase()?1:-1)];y(Q),L("ASC")}};return p.exports.useEffect(()=>{v.length>0&&_(Object.keys(v[0])[0])},[v]),p.exports.useEffect(()=>{y(r)},[r]),s("div",{className:"card shadow-lg mb-4 border-none ",children:[s("div",{className:"card-header py-3 d-flex justify-content-between d-sm-flex flex-column flex-lg-row flex-md-row flex-xl-row",children:[e("h6",{className:"m-0 font-weight-bold text-primary text-center",children:t}),s("div",{className:"d-flex mt-3 mt-lg-0 mt-md-0 mt-xl-0",children:[g!==null?e("button",{onClick:async()=>g(),type:"button",className:"btn btn-sm",children:e("i",{className:"fas fa-sync text-primary"})}):null,s("div",{className:"btn-group dropleft",children:[e(Ee,{id:"test-table-xls-button",className:"btn btn-sm mr-2 text-primary",table:`dataTable${t.replace(" ","-")}`,filename:t,sheet:"tablexls",buttonText:e("i",{className:"far fa-file-excel"})}),e("button",{type:"button",className:"btn btn-sm","data-toggle":"dropdown",id:`filtersDropdown${t}`,"aria-expanded":"false",children:e("i",{className:"fas fa-sliders-h text-primary"})}),e("div",{className:"dropdown-menu shadow px-2 animated--fade-in","aria-labelledby":`filtersDropdown${t}`,children:v!==void 0&&v.length>0?h!==null?Object.entries(h).map(([E,Q])=>e("button",{type:"button",onClick:()=>$(E),className:`dropdown-item rounded ${N===E?"text-primary font-weight-bolder":""}${m.includes(E)?"d-none":""} `,children:Q},E)):Object.keys(v[0]).map(E=>l!==null&&Object.keys(l).includes(E)?e("button",{onClick:()=>$(E),type:"button",className:`dropdown-item rounded ${N===E?"text-primary fw-bold":""}${m.includes(E)?"d-none":""} `,children:l[E]},E):e("button",{onClick:()=>$(E),type:"button",className:`dropdown-item rounded ${N===E?"text-primary fw-bold":""}${m.includes(E)?"d-none":""} `,children:E.charAt(0).toUpperCase()+E.slice(1)},E)):null})]}),s("div",{className:"input-group",children:[e("input",{type:"text",className:"form-control border-0 small",placeholder:`${u} ${l!==null&&Object.keys(l).includes(N)?l[N].toLowerCase():N}`,onChange:E=>it(E.target.value)}),e("div",{className:"input-group-append",children:e("button",{className:"btn btn-primary btn-sm",type:"button",children:e("i",{className:"fas fa-search fa-sm"})})})]})]})]}),e("div",{className:"card-body",children:e("div",{className:"table-responsive",children:s("table",{className:"table table-hover",id:`dataTable${t.replace(" ","-")}`,width:"100%",cellSpacing:0,children:[e("thead",{children:v!==void 0&&Array.isArray(v)&&v.length>0?s("tr",{children:[Object.keys(v[0]).map((E,Q)=>l!==null&&Object.keys(l).includes(E)?e("th",{className:`${N.toLowerCase()===E?"text-primary text-uppercase ":""}${m.length>0&&m.includes(E)?"d-none":""}`,children:s("div",{className:"d-flex",children:[l[E]," ",e("button",{onClick:()=>ke(E),className:"btn  btn-sm btn-link mx-1 y border-0 text-primary px-1 py-0",children:he!==""&&R==="ASC"&&he===E?e("i",{className:"fas fa-sort-up "}):e("i",{className:"fas fa-sort-down "})})]})},E+Q):e("th",{className:`${N.toLowerCase()===E?"text-primary text-uppercase":""}${m.length>0&&m.includes(E)?"d-none":""}`,children:s("div",{className:"d-flex",children:[E.charAt(0).toUpperCase()+E.slice(1)," ",e("button",{onClick:()=>ke(E),className:"btn btn-sm btn-link mx-1 text-primary border-0 px-1 py-0",children:he!==""&&R==="ASC"&&he===E?e("i",{className:"fas fa-sort-up "}):e("i",{className:"fas fa-sort-down "})})]})},E+Q)),d===!0?e("th",{children:c}):null]},v[0].id):e("tr",{children:e("th",{children:i})})}),e("tbody",{children:v!==void 0&&Array.isArray(v)&&v.length>0?v.map((E,Q)=>s("tr",{children:[Object.entries(E).map(([D,M],re)=>e("td",{className:`${m.length>0&&m.includes(D)?"d-none ":""}`,children:typeof M=="object"&&Object.entries(M).length>0?e(C,{children:s("table",{className:"table m-0 p-0 text-center ",children:[e("thead",{children:e("tr",{children:Object.keys(M).map((de,lt)=>e("th",{children:de},de+lt))})}),e("tbody",{children:e("tr",{children:Object.values(M).map(de=>e("td",{children:de},de+D+re))})})]})}):x!==null&&x.element===D?e("button",{onClick:()=>x.action(E),className:x.className,children:M}):M},D+re)),d===!0?e("td",{className:"d-flex d-sm-flex flex-sm-column flex-column flex-lg-row flex-md-row flex-xl-row",children:o!==null?e(o,{object:E,refreshCallback:g}):n.map(D=>s("button",{className:D.style,onClick:()=>D.click(E),children:[e("i",{className:D.fwicon})," ",e("span",{className:"d-none d-sm-none d-md-block d-lg-block d-xl-block",children:D.text})]},D.key))}):null]},Q)):e("tr",{children:e("td",{children:i})})})]})})})]})},Vt=async()=>{try{return await(await fetch(`${S}/users/getall`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},qt=async t=>{try{return await(await fetch(`${S}/users/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Qt=async t=>{try{return await(await fetch(`${S}/users/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},zt=async(t,a)=>{try{return await(await fetch(`${S}/users/update/${a}`,f.authPutConfig(t))).json()}catch(r){return console.log(r),f.ApiFetchError(r.message)}},Ut=async t=>{try{return await(await fetch(`${S}/users/delete/${t}`,f.authDeleteConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var ue={List:Vt,GetOne:qt,Save:Qt,Update:zt,Delete:Ut};const A=({message:t})=>e("div",{className:"col-lg-8 mx-auto mb-3",children:e("div",{className:"card text-center p-3",children:s("div",{className:"card-body ",children:[e("i",{className:"fas fa-exclamation-circle fa-4x text-danger"}),e("h3",{className:"text-danger font-weight-bolder mt-5",children:t})]})})}),Ht=()=>{const{verifySession:t}=k(),{isLoading:a,hookData:r,refreshData:n,error:o}=q(()=>t(ue.List,n),[]),{navigate:d}=O(),h=async i=>{Y.fire(T({text:`\xBFDesea eliminar al usuario con el correo '${i.correo}'?`,icon:"info"},f.alertConfig)).then(async m=>{if(m.isConfirmed){const g=await t(()=>ue.Delete(i.id));if(!g.status)return b.error(g.statusText);b.success("Usuario eliminado correctamente"),await n()}})},c=i=>{d(`/accounts/edit/${i.id}`,{state:i})},u=i=>{if(i.rol==="Administrador")return b.error("Los administradores no cuentan con un perfil");if(i.rol==="Egresado")return d(`/graduates/details/${i.id}`,{state:{prevLocation:"/accounts/"}});if(i.rol==="Empresa")return d(`/companies/details/${i.id}`,{state:{prevLocation:"/accounts/"}})},l={buttons:[{key:"btnEdit",text:"Editar",style:"btn btn-info m-1 btn-sm",fwicon:"fas fa-pen fa-sm",click:i=>c(i)},{key:"btnDelete",text:"Eliminar",style:"btn btn-danger m-1 btn-sm",fwicon:"fas fa-times",click:i=>h(i)}]};return o.error?e(C,{children:a?e(j,{}):e(A,{message:o.message,tryAgain:n})}):e("div",{className:"mt-2",children:a?e(j,{color:"purple"}):e(me,{data:r,title:"Registros",emptyDataText:"Sin registros",searchText:"Buscando por",filtersConfig:{id:"Folio",correo:"Correo",rol:"Rol"},renameHeaders:{id:"Folio",correo:"Correo",fk_rol:"Rol"},actions:!0,actionsText:"Opciones",actionElement:{element:"id",className:"btn btn-link text-purple font-weight-bolder",action:i=>u(i)},buttons:l.buttons})})},Wt=()=>s("div",{className:"container-fluid",children:[s("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[e("h1",{className:"h3 mb-0 text-gray-800",children:"Cuentas"}),s(F,{to:"/accounts/add",className:"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm",children:[e("i",{className:"fas fa-plus fa-sm text-white"})," Nueva cuenta"]})]}),e(Ht,{})]}),Z=t=>{const[a,r]=p.exports.useState(t);return{form:a,setForm:r,handleChange:({target:d})=>r(G(T({},a),{[d.name]:Number(d.value)?parseInt(d.value):d.value})),reset:()=>r(t)}},fe=({id:t="accordionContainer",children:a})=>e("div",{className:"accordion",id:t,children:a}),K=({id:t="One",text:a="Collapsible Group Item #1",buttonClass:r="btn btn-link btn-block text-left text-primary font-weight-bolder collapsed",children:n})=>s("div",{children:[e("div",{className:"card-header",id:`heading${t}`,children:e("h2",{className:"mb-0",children:e("button",{className:r,type:"button","data-toggle":"collapse","data-target":`#collapse${t}`,"aria-expanded":"true","aria-controls":`collapse${t}`,children:a})})}),e("div",{id:`collapse${t}`,className:"collapse show","aria-labelledby":`heading${t}`,"data-parent":"#accordionContainer",children:e("div",{className:"card-body",children:n})})]}),se=({title:t,children:a})=>s("div",{className:"card shadow mb-4 animated--grow-in",children:[s("div",{className:"card-header py-3 d-flex",children:[e(F,{to:-1,className:"btn btn-primary btn-sm",children:e("i",{className:"fas fa-arrow-left"})}),e("h5",{className:"m-0 font-weight-bold text-primary text-center mx-auto",children:t})]}),e("div",{className:"card-body",children:a})]}),Jt={correo:"",clave:"",confirmar:"",fk_rol:""},Yt={Administrador:1,Egresado:2,Empresa:3},Ve=()=>{const{form:t,setForm:a,handleChange:r}=Z(Jt),{verifySession:n}=k(),[o,d]=p.exports.useState(!1),[h,c]=p.exports.useState(!1),[u,l]=p.exports.useState(!1),{navigate:i,location:m,params:g}=O(),x=p.exports.useCallback(async()=>{c(!0);const y=await n(()=>ue.GetOne(g.id),x);if(y!=null&&y.error){a(y),c(!1);return}if(!y.id){i("/accounts"),b.error("Este registro no existe."),c(!1);return}a(y),c(!1)},[g.id,i]),v=async y=>{y.preventDefault();const I=b.loading("Guardando...");if(o){const _=await n(()=>ue.Update(t,g.id));if(!_.status)return b.error(_.statusText,{id:I});b.success("Cuenta editada correctamente.",{id:I}),i("/accounts")}else{const _=await n(()=>ue.Save(t));if(!_.status)return b.error(_.statusText,{id:I});b.success("Cuenta guardada correctamente.",{id:I}),i("/accounts")}};return p.exports.useEffect(()=>{if(m.state!==null){const y=Object.entries(Yt).filter(([I])=>I===m.state.rol)[0];m.state.fk_rol=y[1],delete m.state.rol,a(m.state),d(!0);return}if(m.pathname.includes("edit")){x(),d(!0);return}l(!0),d(!1)},[m.pathname,x,m.state]),t!=null&&t.error?e(C,{children:h?e(j,{}):e(A,{message:t.message})}):h?e(j,{}):e(se,{title:o?"Editar usuario":"Datos del usuario",children:s("form",{onSubmit:v,children:[e(fe,{children:s(K,{id:"DatosUsuario",text:"Datos del usuario",buttonClass:"btn btn-link btn-block text-left text-primary font-weight-bolder collapsed",children:[o?e(C,{children:s("div",{className:"form-check mb-4 d-flex justify-content-end",children:[e("input",{style:{cursor:"pointer"},className:"form-check-input",onChange:()=>l(!u),type:"checkbox",id:"changeClave"}),e("label",{style:{cursor:"pointer"},className:"form-check-label mr-3",htmlFor:"changeClave",children:"\xBFCambiar clave?"})]})}):null,s("div",{className:"row",children:[e("div",{className:`${u?"col-lg-3":"col-lg-6"}`,children:e(w,{inputId:"txtCorreo",placeholder:"Correo",type:"email",name:"correo",setValue:r,value:t.correo})}),u?s(C,{children:[e("div",{className:"col-lg-4","data-aos":`${o?"fade-down":""}`,children:e(w,{inputId:"txtClave",placeholder:"Clave",type:"password",name:"clave",setValue:r,value:t.clave})}),e("div",{className:"col-lg-4","data-aos":`${o?"fade-down":""}`,children:e(w,{inputId:"txtClaveCon",placeholder:"Confirmar",type:"password",setValue:r,name:"confirmar",value:t.confirmar})})]}):null,e("div",{className:"col-lg-12",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:r,name:"fk_rol",value:t.fk_rol,children:[e("option",{value:"",children:"Rol (Seleccione una opci\xF3n)"}),e("option",{value:"1",children:"Administrador"}),e("option",{value:"2",children:"Egresado"}),e("option",{value:"3",children:"Empresa"})]})})]})]})}),s("div",{className:"d-flex mt-3 justify-content-center",children:[e("button",{type:"submit",className:"btn btn-primary mx-3",children:o?"Guardar cambios":"Guardar"}),e(F,{to:-1,className:"btn btn-danger",children:"Cancelar"})]})]})})},Zt=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto",children:e(Ve,{})})}),Kt=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto",children:e(Ve,{})})}),Xt=async()=>{try{return await(await fetch(`${S}/users/company/getall`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},ea=async t=>{try{return await(await fetch(`${S}/users/company/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},ta=async t=>{try{return await(await fetch(`${S}/users/company/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},aa=async(t,a)=>{try{return await(await fetch(`${S}/users/company/update/${a}`,f.authPutConfig(t))).json()}catch(r){return console.log(r),f.ApiFetchError(r.message)}},sa=async t=>{try{return await(await fetch(`${S}/users/company/delete/${t}`,f.authDeleteConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var te={List:Xt,GetOne:ea,Save:ta,Update:aa,Delete:sa};const ra=()=>{const{verifySession:t}=k(),{isLoading:a,hookData:r,refreshData:n,error:o}=q(()=>t(te.List,n),[]),{navigate:d}=O(),h=async i=>{Y.fire(T({text:`\xBFDesea eliminar a la compa\xF1ia '${i.nombre_comercial}' del sistema?`,icon:"info"},f.alertConfig)).then(async m=>{if(m.isConfirmed){const g=await t(()=>te.Delete(i.id));if(!g.status)return b.error(g.statusText);b.success("Compa\xF1ia eliminada correctamente"),await n()}})},c=i=>d(`/companies/edit/${i.id}`,{state:i}),u=i=>d(`/companies/details/${i.id}`),l={buttons:[{key:"btnEdit",text:"Editar",style:"btn btn-info m-1 btn-sm ",fwicon:"fas fa-pen fa-sm",click:i=>c(i)},{key:"btnDelete",text:"Eliminar",style:"btn btn-danger m-1 btn-sm",fwicon:"fas fa-times ",click:i=>h(i)}]};return o.error?a?e(j,{}):e(A,{message:o.message}):e("div",{children:a?e(j,{}):e(me,{title:"Registros",data:r,emptyDataText:"Sin registros",searchText:"Buscando por",actions:!0,actionsText:"Opciones",hideColumns:["cp","numero_empresa","calle","colonia","municipio","estado"],filtersConfig:{id:"Folio",correo:"Correo",nombre_comercial:"Nombre",tipo_empresa:"Tipo",actividad_economica:"Act. Econ\xF3mica",estado:"Estado",municipio:"Municipio"},renameHeaders:{id:"Folio",nombre_comercial:"Nombre",numero_empresa:"#",cp:"C.P",telefono:"Tel\xE9fono",tipo_empresa:"Tipo",actividad_economica:"Act. Econ\xF3mica"},buttons:l.buttons,actionElement:{element:"id",className:"btn btn-link text-purple font-weight-bolder",action:i=>u(i)}})})},na=()=>s("div",{className:"container-fluid",children:[s("div",{className:"d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center justify-content-between mb-4",children:[e("h1",{className:"h3 mb-0 text-gray-800",children:"Empresas"}),s(F,{to:"/companies/add",className:" btn btn-sm btn-primary shadow-sm mt-3 mt-md-0 mt-lg-0 mt-xl-0",children:[e("i",{className:"fas fa-plus fa-sm text-white"})," Nueva empresa"]})]}),e(ra,{})]}),qe={correo:"",clave:"",confirmar:"",nombre_comercial:"",calle:"",numero_empresa:"",colonia:"",cp:"",municipio:"",estado:"",telefono:"",tipo_empresa:"",tama\u00F1o:"",actividad_economica:""},oa=["Agro-industrial","Silvicultura","Pesca y acuacultura","Miner\xEDa","Alimentos, bebidas y tabaco","Textiles, vestido y cuero","Madera y sus productos","Papel, imprenta y editoriales","Qu\xEDmica","Caucho y Pl\xE1stico","Minerales no met\xE1licos","Industrias met\xE1licas b\xE1sicas","Construcci\xF3n","Electricidad, gas y agua","Comercio y turismo","Transporte, almacenaje y comunicaciones","Servicios financieros, seguros, actividades inmobiliarias y de alquiler","Educaci\xF3n"],Qe=({handleSubmit:t,company:a,onEditing:r,onChangePassword:n,handleChange:o,toggleChangePassword:d})=>{const[h,c]=p.exports.useState([]);return e("div",{children:s("form",{onSubmit:t,children:[s(fe,{children:[s(K,{id:"companyData",text:"Datos generales",children:[r?e(C,{children:s("div",{className:"form-check mb-4 d-flex justify-content-end ",children:[e("input",{style:{cursor:"pointer"},className:"form-check-input ",onChange:()=>d(!n),type:"checkbox",id:"changeClave"}),e("label",{style:{cursor:"pointer"},className:"form-check-label mr-3",htmlFor:"changeClave",children:"\xBFCambiar clave?"})]})}):null,s("div",{className:"row",children:[e("div",{className:"col-lg-4",children:e(w,{inputId:"txtCorreo",placeholder:"Correo",type:"email",setValue:o,name:"correo",value:a.correo})}),n?s(C,{children:[e("div",{"data-aos":`${r?"fade-down":""}`,className:"col-lg-4",children:e(w,{inputId:"txtClave",placeholder:"Clave",type:"password",setValue:o,name:"clave",value:a.clave})}),e("div",{"data-aos":`${r?"fade-down":""}`,className:"col-lg-4",children:e(w,{inputId:"txtConfirmar",placeholder:"Confirmar",type:"password",setValue:o,name:"confirmar",value:a.confirmar})})]}):null,e("div",{className:"col-lg-4",children:e(w,{inputId:"txtNombreComercial",placeholder:"Nombre comercial",type:"text",setValue:o,name:"nombre_comercial",value:a.nombre_comercial})}),e("div",{className:"col-lg-4",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:o,name:"tipo_empresa",value:a.tipo_empresa,children:[e("option",{value:"",children:"Tipo de empresa (Seleccione una opci\xF3n)"}),e("option",{value:"P\xFAblica",children:"P\xFAblica"}),e("option",{value:"Privada",children:"Privada"}),e("option",{value:"Social",children:"Social"})]})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtTelefono",placeholder:"Telefono",setValue:o,type:"number",name:"telefono",value:a.telefono})}),e("div",{className:"col-lg-6",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:o,name:"tama\xF1o",value:a.tama\u00F1o,children:[e("option",{value:"",children:"Tama\xF1o (Seleccione una opci\xF3n)"}),e("option",{value:"Microempresa (De 1 a 30)",children:"Microempresa (De 1 a 30)"}),e("option",{value:"Peque\xF1a (De 31 a 100)",children:"Peque\xF1a (De 31 a 100)"}),e("option",{value:"Mediana (De 101 a 500)",children:"Mediana (De 101 a 500)"}),e("option",{value:"Grande (Mas de 500)",children:"Grande (Mas de 500)"})]})}),s("div",{className:"col-lg-6",children:[e(w,{inputId:"txtActividadEconomica",placeholder:`${!h.includes(a.actividad_economica)&&a.actividad_economica!==""?"Especifique la actividad":"Actividad economica"} `,type:"text",list:"activitiesList",focusAction:()=>c(oa),setValue:o,name:"actividad_economica",value:a.actividad_economica}),e("datalist",{id:"activitiesList",children:h.map(u=>e("option",{value:u,children:u},u))})]})]})]}),e(K,{text:"Direccion",children:s("div",{className:"row",children:[e("div",{className:"col-lg-4",children:e(w,{inputId:"txtEstado",placeholder:"Estado",type:"text",setValue:o,name:"estado",value:a.estado})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtMunicipio",placeholder:"Municipio",type:"text",setValue:o,name:"municipio",value:a.municipio})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtColonia",placeholder:"Colonia",type:"text",setValue:o,name:"colonia",value:a.colonia})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtCalle",placeholder:"Calle",type:"text",setValue:o,name:"calle",value:a.calle})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtNumero",placeholder:"Numero",setValue:o,type:"number",name:"numero_empresa",value:a.numero_empresa})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtCP",placeholder:"Codigo Postal",setValue:o,type:"number",name:"cp",value:a.cp})})]})})]}),s("div",{className:"d-flex mt-3 justify-content-center",children:[e("button",{type:"submit",className:"btn btn-primary mx-3",children:r?"Guardar cambios":"Guardar"}),e(F,{to:-1,className:"btn btn-danger ",children:"Cancelar"})]})]})})},ze=()=>{const{form:t,setForm:a,handleChange:r}=Z(qe),{verifySession:n}=k(),[o,d]=p.exports.useState(!1),[h,c]=p.exports.useState(!1),[u,l]=p.exports.useState(!1),{location:i,navigate:m,params:g}=O(),x=p.exports.useCallback(async()=>{l(!0);const y=await n(()=>te.GetOne(g.id),x);if(y!=null&&y.error){a(y),l(!1);return}if(!y.id){m("/companies"),b.error("Este registro no existe."),l(!1);return}a(y),l(!1)},[g.id,m]),v=async y=>{y.preventDefault();const I=b.loading("Guardando...");if(o){const _=await n(()=>te.Update(t,g.id));if(!_.status)return b.error(_.statusText,{id:I});b.success("Empresa editada correctamente",{id:I}),m("/companies")}else{const _=await n(()=>te.Save(t));if(!_.status)return b.error(_.statusText,{id:I});b.success("Empresa registrada correctamente",{id:I}),m("/companies")}};return p.exports.useEffect(()=>{if(i.state!==null){a(i.state),d(!0);return}if(i.pathname.includes("edit")){x(),d(!0);return}c(!0),d(!1)},[i.pathname,x,i.state]),t!=null&&t.error?e(C,{children:u?e(j,{}):e(A,{message:t.message})}):u?e(j,{}):e(se,{title:o?"Editar empresa":"Registrar empresa",children:e(Qe,{handleSubmit:v,company:t,onEditing:o,onChangePassword:h,handleChange:r,toggleChangePassword:c})})},ca=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto ",children:e(ze,{})})}),ia=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto ",children:e(ze,{})})}),Ue=({title:t,children:a})=>e("div",{className:"card py-3 px-2 shadow-lg rounded-0 animated--grow-in",children:s("div",{className:"d-flex justify-content-between",children:[e(F,{to:-1,className:"btn ",style:{zIndex:"20"},children:e("i",{className:"fas fa-arrow-left text-primary fa-2x"})}),e("h2",{className:"position-absolute w-100 text-center text-purple font-weight-bolder responsive-text-header ",children:t}),a]})}),He=({children:t})=>e("div",{"data-aos":"flip-down",className:"card mt-4 shadow-lg rounded-0 py-3 px-2",children:e("div",{className:"card-body text-black",children:t})}),We=({children:t})=>e("div",{children:e("div",{className:"d-flex justify-content-center",children:s("div",{className:"col-12 col-lg-12 col-xl-10",children:[t," "]})})}),la=()=>{const[t,a]=p.exports.useState({}),{verifySession:r}=k(),[n,o]=p.exports.useState(!1),{params:d,navigate:h,location:c}=O(),u=m=>{window.navigator.clipboard.writeText(m),b.success("Copiado al portapeles.")},l=async()=>{Y.fire(T({text:`\xBFDesea eliminar a la compa\xF1ia '${t.nombre_comercial}' del sistema?`,icon:"info"},f.alertConfig)).then(async m=>{if(m.isConfirmed){const g=await r(()=>te.Delete(t.id));if(!g.status)return b.error(g.statusText);b.success("Compa\xF1ia eliminada correctamente"),await refreshData()}})},i=p.exports.useCallback(async()=>{o(!0);const m=await r(()=>te.GetOne(d.id),i);if(m!=null&&m.error){a(m),o(!1);return}if(!m.id){if(c.state.prevLocation==="/accounts/"){b.error("Esta empresa aun no cuenta con un perfil"),h("/accounts"),o(!1);return}b.error("No existe ese registro"),h("/companies"),o(!1);return}a(m),o(!1)},[d.id]);return p.exports.useEffect(()=>{i()},[i]),t!=null&&t.error?e(C,{children:n?e(j,{}):e(A,{message:t.message})}):e(C,{children:n?e(j,{}):s(We,{children:[e(Ue,{title:t.nombre_comercial,children:s("div",{className:"dropdown",children:[e("button",{className:"btn ",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-expanded":"false",children:e("i",{className:"fas fa-cog text-purple fa-2x",children:" "})}),s("div",{className:"dropdown-menu animated--fade-in shadow-lg","aria-labelledby":"dropdownMenuButton",style:{fontSize:"17px"},children:[s(F,{to:`/companies/edit/${t.id}`,className:"dropdown-item ",href:"#",children:["Editar ",e("i",{className:"fas fa-edit text-info"})]}),s("button",{onClick:l,className:"dropdown-item",children:["Eliminar ",e("i",{className:"fas fa-trash text-danger"})]})]})]})}),e(He,{children:s("div",{className:"row",children:[s("div",{className:"col-12 col-lg-6 col-xl-6 mb-5 mb-lg-0 mb-xl-0",children:[e("h3",{className:"text-left font-weight-bold text-primary",children:"Datos generales"}),s("div",{className:"d-flex flex-column align-items-start",children:[s("h5",{style:{cursor:"pointer"},onClick:()=>u(t.correo),children:[e("span",{className:"font-weight-bolder",children:"Correo electr\xF3nico:"})," ",t.correo]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Tama\xF1o:"})," ",t.tama\u00F1o]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Tipo:"})," ",t.tipo_empresa]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Actividad economica:"})," ",t.actividad_economica]}),s("h5",{style:{cursor:"pointer"},onClick:()=>u(t.telefono),children:[e("span",{className:"font-weight-bolder",children:" Telefono:"})," ",t.telefono," "]})]})]}),s("div",{className:"col-12 col-lg-6 col-xl-6",children:[s("h3",{className:"text-left font-weight-bold text-primary",children:["Direcci\xF3n ",e("i",{className:"fas fa-map-marker-alt"})]}),s("div",{className:"d-flex flex-column align-items-start",children:[s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Estado:"})," ",t.estado]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Municipio:"})," ",t.municipio]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Colonia:"})," ",t.colonia]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Calle:"})," ",t.calle," #",t.numero_empresa]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"C.P:"})," ",t.cp]})]})]})]})})]})})},da=()=>e(la,{}),ua=async()=>{try{return await(await fetch(`${S}/users/graduated/getall`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},ma=async t=>{try{return await(await fetch(`${S}/users/graduated/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},ha=async t=>{try{return await(await fetch(`${S}/users/graduated/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},pa=async(t,a)=>{try{return await(await fetch(`${S}/users/graduated/update/${a}`,f.authPutConfig(t))).json()}catch(r){return console.log(r),f.ApiFetchError(r.message)}},fa=async t=>{try{return await(await fetch(`${S}/users/graduated/delete/${t}`,f.authDeleteConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var oe={List:ua,GetOne:ma,Save:ha,Update:pa,Delete:fa};const ga=()=>{const{verifySession:t}=k(),{isLoading:a,refreshData:r,hookData:n,error:o}=q(()=>t(oe.List,r),[]),{navigate:d}=O(),h=async i=>{Y.fire(T({text:`\xBFDesea eliminar al egresado '${i.nombre_completo}' del sistema?`,icon:"info"},f.alertConfig)).then(async m=>{if(m.isConfirmed){const g=await t(()=>oe.Delete(i.id));if(!g.status)return b.error(g.statusText);b.success("Egresado eliminado correctamente"),await r()}})},c=i=>{d(`/graduates/edit/${i.id}`,{state:i})},u=i=>{d(`/graduates/details/${i.id}`)},l={buttons:[{key:"btnEdit",text:"Editar",style:"btn btn-info m-1 btn-sm",fwicon:"fas fa-pen fa-sm",click:i=>c(i)},{key:"btnDelete",text:"Eliminar",style:"btn btn-danger m-1 btn-sm",fwicon:"fas fa-times ",click:i=>h(i)}]};return o.error?a?e(j,{}):e(A,{message:o.message}):e("div",{className:"mt-2",children:a?e(j,{color:"purple"}):e(me,{data:n,title:"Registros",emptyDataText:"Sin registros",searchText:"Buscando por",filtersConfig:{id:"Folio",correo:"Correo",no_control:"No. Control",nombre_completo:"Nombre",estado_civil:"Estado Civil",titulado:"Titulado"},hideColumns:["paquetes_computacionales","idioma_extranjero","telefono","tel_casa","estado","municipio","calle","numero_casa","colonia","cp","fechaNacimiento","estado_civil","curp","sexo","curriculum"],renameHeaders:{id:"Folio",nombre_completo:"Nombre",estado_civil:"Estado Civil",no_control:"No. Control",fechaNacimiento:"Nacimiento",n_casa:"#",cp:"C.P",telefono:"Tel\xE9fono",tel_casa:"T.Casa",fecha_egreso:"Egreso",idioma_extranjero:"Idiomas %",paquetes_computacionales:"Habilidades"},actions:!0,actionsText:"Opciones",actionElement:{element:"id",className:"btn btn-link text-purple font-weight-bolder",action:i=>u(i)},buttons:l.buttons})})},ba=()=>s("div",{className:"container-fluid",children:[s("div",{className:"d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center justify-content-between mb-4",children:[e("h1",{className:"h3 mb-0 text-gray-800",children:"Egresados"}),s(F,{to:"/graduates/add",className:" btn btn-sm btn-primary shadow-sm mt-3 mt-md-0 mt-lg-0 mt-xl-0",children:[e("i",{className:"fas fa-plus fa-sm text-white"})," Nuevo egresado"]})]}),e(ga,{})]}),xa=["Ing. en Gesti\xF3n Empresarial","Ing. Industrial","Ing. en Sistemas Computacionales","Ing. Electromec\xE1nica","Ing. Civil","Ing. en Sistemas Automotrices"],Je={correo:"",clave:"",confirmar:"",no_control:"",nombre_completo:"",fechaNacimiento:"",curp:"",sexo:"",estado_civil:"",calle:"",numero_casa:"",colonia:"",cp:"",municipio:"",estado:"",telefono:"",tel_casa:"",carrera:"",fecha_egreso:"",titulado:"",paquetes_computacionales:""},Ye={idioma_extranjero:{Otro:"",Ingles:""}},Ze=({handleSubmit:t,graduated:a,onEditing:r,onChangePassword:n,handleEntriesChange:o,handleIdiomaExtranjeroChange:d,toggleChangePassword:h,idiomaExtranjero:c})=>s("form",{onSubmit:t,children:[s(fe,{children:[s(K,{id:"DatosGenerales",text:"Datos generales",buttonClass:"btn btn-link btn-block text-left text-primary font-weight-bolder collapsed",children:[r?e(C,{children:s("div",{className:"form-check mb-4 d-flex justify-content-end ",children:[e("input",{style:{cursor:"pointer"},className:"form-check-input ",onChange:()=>h(!n),type:"checkbox",id:"changeClave"}),e("label",{style:{cursor:"pointer"},className:"form-check-label mr-3",htmlFor:"changeClave",children:"\xBFCambiar clave?"})]})}):null,s("div",{className:"row",children:[e("div",{className:`${n?"col-lg-3 ":"col-lg-6"}`,children:e(w,{inputId:"txtCorreo",placeholder:"Correo",type:"email",name:"correo",setValue:o,value:a.correo})}),n?s(C,{children:[e("div",{className:"col-lg-4","data-aos":`${r?"fade-down":""}`,children:e(w,{inputId:"txtClave",placeholder:"Clave",type:"password",setValue:o,name:"clave",value:a.clave})}),e("div",{className:"col-lg-4","data-aos":`${r?"fade-down":""}`,children:e(w,{inputId:"txtClaveCon",placeholder:"Confirmar",type:"password",setValue:o,name:"confirmar",value:a.confirmar})})]}):null,e("div",{className:`${n?"col-lg-3 ":"col-lg-6"}`,children:e(w,{inputId:"txtncontrol",placeholder:"Numero de control",type:"number",setValue:o,name:"no_control",value:a.no_control})}),e("div",{className:"col-lg-6",children:e(w,{inputId:"txtNombre",placeholder:"Nombre completo",type:"text",setValue:o,name:"nombre_completo",value:a.nombre_completo})}),e("div",{className:"col-lg-3",children:e(w,{inputId:"txtNombre",placeholder:"Fecha de nacimiento",type:"date",setValue:o,name:"fechaNacimiento",value:a.fechaNacimiento})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtCurp",placeholder:"CURP",type:"text",setValue:o,name:"curp",value:a.curp})}),e("div",{className:"col-lg-4",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:o,name:"sexo",value:a.sexo,children:[e("option",{value:"",children:"Sexo (Seleccione una opcion)"}),e("option",{value:"Hombre",children:"Hombre"}),e("option",{value:"Mujer",children:"Mujer"}),e("option",{value:"Otro",children:"Otro"})]})}),e("div",{className:"col-lg-4",children:s("select",{className:"form-control form-select",style:{height:"47px"},onChange:o,name:"estado_civil",value:a.estado_civil,children:[e("option",{value:"",children:"Estado civil (Seleccione una opcion)"}),e("option",{value:"Casado(a)",children:"Casado(a)"}),e("option",{value:"Soltero(a)",children:"Soltero(a)"})]})})]})]}),e(K,{id:"Direccion",text:"Direcci\xF3n",buttonClass:"btn btn-link btn-block text-left text-primary font-weight-bolder",children:s("div",{className:"row",children:[e("div",{className:"col-lg-4",children:e(w,{inputId:"txtEstado",placeholder:"Estado",type:"text",setValue:o,name:"estado",value:a.estado})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtMunicipio",placeholder:"Municipio",type:"text",setValue:o,name:"municipio",value:a.municipio})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtCalle",placeholder:"Calle",type:"text",setValue:o,name:"calle",value:a.calle})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtNumero",placeholder:"Numero de casa",type:"number",setValue:o,name:"numero_casa",value:a.numero_casa})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtColonia",placeholder:"Colonia",type:"text",setValue:o,name:"colonia",value:a.colonia})}),e("div",{className:"col-lg-4",children:e(w,{inputId:"txtCP",placeholder:"Codigo Postal",type:"number",setValue:o,name:"cp",value:a.cp})})]})}),e(K,{id:"Contacto",text:"Cont\xE1cto",buttonClass:"btn btn-link btn-block text-left text-primary font-weight-bolder",children:s("div",{className:"row",children:[e("div",{className:"col-lg-6",children:e(w,{inputId:"txtTelefono",placeholder:"Telefono",type:"number",setValue:o,name:"telefono",value:a.telefono})}),e("div",{className:"col-lg-6",children:e(w,{inputId:"txtTelefonoC",placeholder:"Telefono casa",type:"number",setValue:o,name:"tel_casa",value:a.tel_casa})})]})}),e(K,{id:"infoAcademica",text:"Informaci\xF3n academica",buttonClass:"btn btn-link btn-block text-left text-primary font-weight-bolder",children:s("div",{className:"row",children:[e("div",{className:"col-lg-6",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:o,name:"carrera",value:a.carrera,children:[e("option",{value:"",children:"Carrera (Seleccione una opcion)"}),xa.map(u=>e("option",{value:u,children:u},u))]})}),e("div",{className:"col-lg-6",children:e(w,{inputId:"txtEgreso",placeholder:"Fecha de egreso",type:"date",setValue:o,name:"fecha_egreso",value:a.fecha_egreso})}),e("div",{className:"col-lg-12 mb-2",children:e("h6",{className:"text-purple font-weight-bolder",children:"Dominio de idioma(s) extranjero(s) (Porcentaje %)"})}),e("div",{className:"col-lg-6",children:e(w,{inputId:"txtIdioma",placeholder:"Ingles",type:"number",setValue:d,name:"Ingles",value:c==null?void 0:c.Ingles,ranges:{min:0,max:100}})}),e("div",{className:"col-lg-6",children:e(w,{inputId:"txtIdiomaOtro",placeholder:"Otro idioma",type:"number",setValue:d,name:"Otro",value:c==null?void 0:c.Otro})}),e("div",{className:"col-lg-6",children:e(w,{inputId:"txtPaquetes",placeholder:"Paquetes computacionales",type:"text",setValue:o,name:"paquetes_computacionales",value:a.paquetes_computacionales})}),e("div",{className:"col-lg-6",children:s("select",{className:"form-control form-select",style:{height:"47px"},onChange:o,name:"titulado",value:a.titulado,children:[e("option",{value:"",children:"\xBFTitulado? (Seleccione una opcion)"}),e("option",{value:"Si",children:"Si"}),e("option",{value:"No",children:"No"})]})})]})})]}),s("div",{className:"d-flex mt-3 justify-content-center",children:[e("button",{type:"submit",className:"btn btn-primary mx-3",children:r?"Guardar cambios":"Guardar"}),e(F,{to:-1,className:"btn btn-danger ",children:"Cancelar"})]})]}),Ke=()=>{const{verifySession:t}=k(),[a,r]=p.exports.useState(!1),{form:n,setForm:o,handleChange:d}=Z(Je),{form:h,setForm:c,handleChange:u}=Z(Ye.idioma_extranjero),[l,i]=p.exports.useState(!1),[m,g]=p.exports.useState(!1),{navigate:x,location:v,params:y}=O(),I=p.exports.useCallback(async()=>{r(!0);const N=await t(()=>oe.GetOne(y.id),I);if(N!=null&&N.error){o(N),r(!1);return}if(!N.id){x("/graduates"),b.error("Este registro no existe."),r(!1);return}const L=N,{idioma_extranjero:$}=L,R=ve(L,["idioma_extranjero"]);o(R),c($),r(!1)},[y.id,x]),_=async N=>{N.preventDefault();const $=G(T({},n),{idioma_extranjero:h}),R=b.loading("Guardando...");if(l){m||delete $.clave;const L=await t(()=>oe.Update($,y.id));if(!L.status)return b.error(L.statusText,{id:R});b.success("Egresado editado correctamente.",{id:R}),x("/graduates")}else{const L=await t(()=>oe.Save($));if(!L.status)return b.error(L.statusText,{id:R});b.success("Egresado guardado correctamente.",{id:R}),x("/graduates")}};return p.exports.useEffect(()=>{if(v.state!==null){o(v.state),c(v.state.idioma_extranjero),i(!0);return}if(v.pathname.includes("edit")){I(),i(!0);return}g(!0),i(!1)},[v.pathname,I,v.state]),n!=null&&n.error?a?e(j,{}):e(A,{message:n.message}):a?e(j,{}):e(se,{title:l?"Editar egresado":"Datos del egresado",children:e(Ze,{handleSubmit:_,graduated:n,handleEntriesChange:d,handleIdiomaExtranjeroChange:u,onEditing:l,onChangePassword:m,toggleChangePassword:g,idiomaExtranjero:h})})},va=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto ",children:e(Ke,{})})}),Na=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto ",children:e(Ke,{})})}),ya=()=>{var l,i;const[t,a]=p.exports.useState({}),{verifySession:r}=k(),[n,o]=p.exports.useState(!1),{params:d,navigate:h,location:c}=O(),u=p.exports.useCallback(async()=>{o(!0);const m=await r(()=>oe.GetOne(d.id),u);if(m!=null&&m.error){a(m),o(!1);return}if(!m.id){if(c.state.prevLocation==="/accounts/"){b.error("Este egresado aun no cuenta con un perfil"),h("/accounts"),o(!1);return}b.error("Este registro no existe"),h("/graduated"),o(!1);return}a(m),o(!1)},[d.id]);return p.exports.useEffect(()=>{u()},[u]),t!=null&&t.error?n?e(j,{}):e(A,{message:t.message}):e(C,{children:n?e(j,{}):s(We,{children:[e(Ue,{title:t.nombre_completo,children:" "}),e(He,{children:s("div",{className:"row",children:[s("div",{className:"col-12 col-lg-6 col-xl-4 mb-5 mb-lg-0 mb-xl-0",children:[e("h3",{className:"text-left font-weight-bold text-primary",children:"Datos generales"}),s("div",{className:"d-flex flex-column align-items-start",children:[s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Correo:"})," ",t.correo]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Nombre:"})," ",t.nombre_completo]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"No. Control:"})," ",t.no_control]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Curp:"})," ",t.curp]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Sexo:"})," ",t.sexo]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Estado civil:"})," ",t.estado_civil]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:" Nacimiento:"})," ",t.fechaNacimiento]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Tel\xE9fono:"})," ",t.telefono]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Tel\xE9fono Hogar:"})," ",t.tel_casa]})]})]}),s("div",{className:"col-12 col-lg-6 col-xl-4 mb-5 mb-lg-0 mb-xl-0",children:[s("h3",{className:"text-left font-weight-bold text-primary",children:["Direcci\xF3n ",e("i",{className:"fas fa-map-marker-alt"})]}),s("div",{className:"d-flex flex-column align-items-start",children:[s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Estado:"})," ",t.estado]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Municipio:"})," ",t.municipio]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Colonia:"})," ",t.colonia]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Calle:"})," ",t.calle," #",t.numero_casa]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"C.P:"})," ",t.cp]})]})]}),s("div",{className:"col-12 col-lg-6 col-xl-4 mb-5 mb-lg-0 mb-xl-0",children:[e("h4",{className:"text-left font-weight-bold text-primary",children:"Informaci\xF3n acad\xE9mica"}),s("div",{className:"d-flex flex-column align-items-start",children:[s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Carrera:"})," ",t.carrera]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Fecha de egreso:"})," ",t.fecha_egreso]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Dominio idioma ingl\xE9s:"})," ",(l=t.idioma_extranjero)==null?void 0:l.Ingles,"%"]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Dominio de otro idioma:"})," ",(i=t.idioma_extranjero)==null?void 0:i.Otro,"%"]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Titulado:"})," ",t.titulado]}),s("h5",{children:[e("span",{className:"font-weight-bolder",children:"Paquetes computacionales:"})," ",t.paquetes_computacionales]})]})]})]})})]})})},wa=()=>e(ya,{}),Sa=async()=>{try{return await(await fetch(`${S}/admin/jobs/getall`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},Ca=async t=>{try{return await(await fetch(`${S}/admin/jobs/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var Xe={List:Sa,GetOne:Ca};const _a=()=>{const{verifySession:t}=k(),{isLoading:a,refreshData:r,hookData:n,error:o}=q(()=>t(Xe.List,r),[]),{navigate:d}=O(),h=c=>{d(`/jobbank/postulations/${c.folio}`,{state:c})};return o.error?a?e(j,{}):e(A,{message:o.message}):e("div",{children:a?e(j,{}):e(me,{firstColumnKey:"folio",data:n,title:"Vacantes",refreshCallback:r,hideColumns:["ubicacion","fk_empresa","descripcion"],renameHeaders:{id:"Folio",fecha_creacion:"Creaci\xF3n",fecha_expira:"Expiraci\xF3n",nombre_comercial:"Empresa",status:"Estado"},actionElement:{element:"vacante",className:"btn btn-link text-purple font-weight-bolder",action:c=>h(c)},searchText:"Buscando por",actionsText:"Opciones",emptyDataText:"Sin registros"})})},Ea=()=>s("div",{className:"container-fluid",children:[e("div",{className:"d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center justify-content-between mb-4",children:e("h1",{className:"h3 mb-0 text-gray-800",children:"Todos los trabajos"})}),e(_a,{})]}),ja=async()=>{try{return await(await fetch(`${S}/company/jobs/getall`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},ka=async t=>{try{return await(await fetch(`${S}/company/jobs/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Ia=async t=>{try{return await(await fetch(`${S}/company/jobs/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},$a=async(t,a)=>{try{return await(await fetch(`${S}/company/jobs/update/${a}`,f.authPutConfig(t))).json()}catch(r){return console.log(r),f.ApiFetchError(r.message)}},Oa=async t=>{try{return await(await fetch(`${S}/company/jobs/delete/${t}`,f.authDeleteConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Aa=async t=>{try{return await(await fetch(`${S}/company/jobs/postulations/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Fa=async t=>{try{return await(await fetch(`${S}/company/jobs/postulations/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Pa=async t=>{try{return await(await fetch(`${S}/company/jobs/postulations/reviewed/${t}`,f.authPutConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var U={List:ja,GetOne:ka,Save:Ia,Update:$a,Delete:Oa,GetPostulations:Aa,GetOnePostulation:Fa,FlagPostulationAsReviewed:Pa};const ge=()=>{const t=p.exports.useRef();return p.exports.useEffect(()=>{setTimeout(()=>t.current.removeAttribute("data-aos"),500)},[]),t},et=({postulations:t,isLoading:a,error:r,searchTerm:n,filter:o})=>{const{navigate:d,params:h}=O(),[c,u]=p.exports.useState([]),{user:l}=k(),i=m=>{if(l.fk_rol===1){d(`/jobbank/postulations/${h.job_id}/${m.id}`,{state:m});return}d(`/company/jobbank/postulations/${h.job_id}/${m.id}`,{state:m})};return r!=null&&r.error?a?e(j,{}):e(A,{message:r.message}):(p.exports.useEffect(()=>{u(t)},[t]),p.exports.useEffect(()=>{if(t.length>0){if(o==="Mas recientes"){u(t.sort((m,g)=>g.id-m.id));return}u(t.filter(m=>m.status===o))}},[o,t]),e("div",{children:a?e(j,{}):(c==null?void 0:c.length)>0?c.filter(m=>m.nombre_completo.toLowerCase().includes(n.toLowerCase())||parseInt(m.id)===parseInt(n)).map(m=>s("div",{onClick:()=>i(m),style:{cursor:"pointer"},className:`card rounded-0 pt-3 px-3 border-left-0 border-right-0   ${parseInt(h.postulation_id)===m.id?"bg-green-light shadow ":""}`,children:[s("h5",{className:"text-primary font-weight-bolder",children:["Postulacion No. ",m.id]}),e("h6",{className:" font-weight-bolder",children:m.nombre_completo}),e("div",{className:"d-flex justify-content-end align-items-end h-100 mt-2",children:e("p",{children:e("span",{className:"badge badge-primary px-1 py-1",children:m.status})})})]},m.id)):o==="Revisado"||o==="Sin revisar"?s("h5",{className:"text-center",children:["No hay postulaciones en estado: ",o]}):e("h5",{className:"text-center",children:"Aqui apareceran las postulaciones recientes"})}))},be=({id:t="exampleModal",buttonText:a="Demo modal",buttonClass:r="btn btn-primary",modalClass:n="modal-dialog",title:o="Modal title",buttonCloseText:d="Close",children:h})=>s(C,{children:[e("button",{type:"button",className:r,"data-toggle":"modal","data-target":`#${t}`,children:a}),e("div",{className:"modal fade",id:`${t}`,tabIndex:-1,"aria-labelledby":`${t}Label`,"aria-hidden":"true",children:e("div",{className:n,children:s("div",{className:"modal-content",children:[s("div",{className:"modal-header",style:{padding:"5px"},children:[e("h4",{className:"modal-title text-primary font-weight-bold",id:`${t}Label`,children:o}),e("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:e("span",{"aria-hidden":"true",children:"\xD7"})})]}),e("div",{className:"modal-body",children:h}),e("div",{className:"modal-footer",style:{padding:"1px"},children:e("button",{type:"button",className:"btn btn-primary btn-sm","data-dismiss":"modal",children:d})})]})})})]}),tt=({refreshData:t})=>{const{verifySession:a,user:r}=k(),[n,o]=p.exports.useState(!1),[d,h]=p.exports.useState({}),{params:c,navigate:u,location:l}=O(),i=p.exports.useRef(),m=async()=>{Y.fire(T({text:`\xBFConfirma la revisi\xF3n de la postulaci\xF3n No. ${d.id} del usuario '${d.nombre_completo}'?`,icon:"info"},f.alertConfig)).then(async v=>{if(v.isConfirmed){const y=await a(()=>U.FlagPostulationAsReviewed(d.id));if(!y.status)return b.error(y.statusText);b.success(y.statusText),await g(),await t()}})},g=p.exports.useCallback(async()=>{if(!c.postulation_id)return;o(!0);const v=await a(()=>U.GetOnePostulation(c.postulation_id),g);if(!v.id){b.error("Esta postulacion ya no existe."),o(!1),u(`/company/jobbank/postulations/${c.job_id}`);return}h(v),o(!1)},[c.postulation_id]),x=async()=>{if(!d.id)return;const v=await V.getResourcesFromPublicFolder(`graduated/cvs/${d.curriculum}`);i.current.src=v};return p.exports.useEffect(()=>{if(l.state!==null){h(l.state);return}g()},[g]),p.exports.useEffect(()=>{x()},[d.curriculum]),e("div",{children:c.postulation_id?e(C,{children:n?e(j,{}):s(C,{children:[s("div",{className:"d-flex flex-column flex-md-row justify-content-between p-2 border-light border shadow align-items-center h-100",children:[s("h6",{children:["Estado:"," ",e("span",{className:"text-primary",children:d.status})]}),d.status!=="Revisado"&&r.fk_rol!==1&&s("button",{onClick:m,className:"btn btn-primary btn-sm rounded-pill",children:[e("i",{className:"fas fa-check "})," Marcar revisado"]})]}),s("div",{className:"mt-3",children:[e("h4",{className:"text-primary font-weight-bold",children:d.nombre_completo}),e("h5",{children:d.correo}),s("h5",{children:[s("span",{className:" font-weight-bold text-primary",children:["Telefono 1:"," "]}),d.telefono]}),s("h5",{children:[" ",s("span",{className:" font-weight-bold text-primary",children:["Telefono 2:"," "]})," ",d.tel_casa]})]}),e("div",{className:"d-flex   justify-content-center mt-5",children:e(be,{title:"Curriculum",buttonText:"Ver curriculum",buttonClass:"btn btn-primary btn-lg mt-3",modalClass:"modal-dialog modal-xl modal-dialog-scrollable",buttonCloseText:"Cerrar",children:e("embed",{ref:i,frameBorder:"0",width:"100%",style:{height:"100vh",width:"100%"}})})})]})}):e("h2",{className:"text-center font-weight-bolder text-primary",children:"Selecciona un elemento de la lista"})})},at=({object:t,refreshCallback:a})=>{const{navigate:r}=O(),{verifySession:n}=k(),o=async()=>{if(delete t.solicitudes,delete t.visitas,delete t.nombre_comercial,t.status==="Cerrada"){t.status="Abierta";const u=await n(()=>U.Update(t,t.folio));if(!u.status){b.error(u.statusText);return}b.success("Vacante abierta"),await a();return}t.status="Cerrada";const c=await n(()=>U.Update(t,t.folio));if(!c.status){b.error(c.statusText);return}b.success("Vacante cerrada"),await a()},d=()=>{r(`/company/jobbank/edit/${t.folio}`,{state:t})},h=()=>{Y.fire(T({text:`\xBFDesea eliminar la vacante No. '${t.folio}'?.
 Esta accion eliminara todos los datos relacionados de la vacante.`,icon:"info"},f.alertConfig)).then(async c=>{if(c.isConfirmed){const u=await n(()=>U.Delete(t.folio));if(!u.status)return b.error(u.statusText);b.success("Vacante eliminada correctamente"),await a()}})};return s("div",{className:"btn-group dropleft",children:[e("button",{type:"button",className:"btn btn-primary btn-sm dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false",children:e("i",{className:"fas fa-cog"})}),s("div",{className:"dropdown-menu px-2 rounded",children:[e("button",{onClick:o,className:"dropdown-item rounded",children:e("div",{className:"d-flex justify-content-between align-items-center h-100",children:t.status==="Abierta"?s(C,{children:["Cerrar ",e("i",{className:"fas fa-lock text-primary"})]}):s(C,{children:["Abrir ",e("i",{className:"fas fa-lock-open text-primary"})]})})}),e("button",{onClick:d,className:"dropdown-item rounded",children:s("div",{className:"d-flex justify-content-between align-items-center h-100",children:["Editar ",e("i",{className:"fas fa-pen text-info "})]})}),e("button",{onClick:h,className:"dropdown-item rounded",children:s("div",{className:"d-flex justify-content-between align-items-center h-100",children:["Eliminar ",e("i",{className:"fas fa-times text-danger "})]})})]})]})},st=()=>{const[t,a]=p.exports.useState(!1),[r,n]=p.exports.useState({}),[o,d]=p.exports.useState(!0),{verifySession:h,user:c}=k(),{params:u,navigate:l,location:i}=O(),m=()=>c.fk_rol===1?l("/jobbank"):l("/company/jobbank"),g=()=>d(!o),x=p.exports.useCallback(async()=>{if(c.fk_rol===1){a(!0);const y=await h(()=>Xe.GetOne(u.job_id),x);if(y!=null&&y.error){n(y),a(!1);return}if(!y.folio){b.error("Esta vacante no existe."),l("/company/jobbank"),a(!1);return}n(y),a(!1);return}a(!0);const v=await h(()=>U.GetOne(u.job_id),x);if(!v.folio){b.error("Esta vacante no existe."),l("/company/jobbank"),a(!1);return}n(v),a(!1)},[u.job_id]);return p.exports.useEffect(()=>{x()},[x]),r!=null&&r.error?t?e(j,{}):e(A,{message:r.message}):e("div",{"data-aos":"flip-right",className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-10 mx-auto mb-3",children:t?e(j,{}):s("div",{className:"card p-3 shadow",children:[s("div",{className:"row",children:[e("div",{className:"col-12 h-100",children:s("div",{className:"d-flex justify-content-between align-items-center",children:[s("button",{onClick:m,className:"btn ",children:[" ",e("i",{className:"fas fa-arrow-left text-primary"})]}),c.fk_rol===1&&e("h6",{className:"text-primary font-weight-bold",children:r==null?void 0:r.nombre_comercial}),s("h5",{className:"text-primary font-weight-bold",children:["Folio: ",r==null?void 0:r.folio]}),c.fk_rol!==1&&e(at,{object:r,refreshCallback:x})]})}),s("div",{className:"col-6",children:[e("h5",{className:"text-primary font-weight-bold",children:r==null?void 0:r.vacante}),e("p",{className:"text-primary ",children:r==null?void 0:r.ubicacion})]}),e("div",{className:"col-6"})]}),s("div",{className:"d-flex  justify-content-between align-items-end h-100",children:[s("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-column flex-xl-row",children:[e("p",{children:s("span",{className:"badge badge-pill badge-primary mr-0 mr-xl-2  px-4",children:[e("i",{className:"fas fa-eye"})," ",r==null?void 0:r.visitas," ",(r==null?void 0:r.visitas)===1?"Visita":"Visitas"]})}),e("p",{children:s("span",{className:"badge badge-pill badge-primary  mr-0 mr-xl-2 py-1 px-4",children:[e("i",{className:"fas fa-envelope"})," ",r==null?void 0:r.solicitudes," ",(r==null?void 0:r.solicitudes)===1?"Solicitud":"Solicitudes"]})}),e("p",{children:s("span",{className:"badge badge-pill badge-primary ml-0 ml-xl-2 py-1 px-4",children:[(r==null?void 0:r.status)==="Abierta"?e("i",{className:"fas fa-lock-open"}):e("i",{className:"fas fa-lock"})," ",r==null?void 0:r.status]})})]}),s("div",{className:"d-flex flex-column flex-md-row",onClick:g,style:{cursor:"pointer"},children:[e("p",{children:s("span",{className:"badge badge-pill badge-primary mr-0 mr-md-2  py-1",children:["Publicado:"," ",o?ce(r==null?void 0:r.fecha_creacion).locale("es").fromNow():r==null?void 0:r.fecha_creacion.replace("T"," ").split(" ")[0]]})}),e("p",{children:s("span",{className:"badge badge-pill badge-primary  py-1",children:["Expira:"," ",o?ce(r==null?void 0:r.fecha_expira).locale("es").fromNow():r==null?void 0:r.fecha_expira]})})]})]})]})})},Ta=["Sin revisar","Revisado","Mas recientes"],Ae=()=>{const[t,a]=p.exports.useState(""),[r,n]=p.exports.useState("Sin revisar"),{params:o}=O(),{verifySession:d}=k(),{hookData:h,refreshData:c,isLoading:u,error:l}=q(()=>d(()=>U.GetPostulations(o.job_id),c),[o.job_id]);return s("div",{className:"container-fluid mb-3",children:[e(st,{}),e("div",{className:"d-flex justify-content-center mb-3",children:e("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:Ta.map(i=>e("button",{type:"button",onClick:()=>n(i),className:`btn btn-outline-primary ${r===i?"active":""} `,children:i}))})}),e("div",{ref:ge(),"data-aos":"flip-down",className:"col-xl-10 mx-auto",children:e("div",{className:"card shadow rounded",children:e("div",{className:"card-body",children:s("div",{className:"row",children:[e("div",{className:"col-md-5 col-lg-5 col-xl-5",children:e("div",{style:{height:"65vh"},children:s("div",{style:{height:"63vh"},children:[s("div",{className:"input-group w-100 mb-3 px-2 overflow-auto",children:[e("input",{type:"text",className:"form-control bg-light",placeholder:"Buscar postulaciones por nombre o numero de postulaci\xF3n...","aria-label":"Search",autoComplete:"off","aria-describedby":"basic-addon2",onChange:i=>a(i.target.value)}),e("div",{className:"input-group-append",children:e("button",{className:"btn btn-primary",type:"button",children:e("i",{className:"fas fa-search fa-sm"})})})]}),e("div",{className:"purple-scroll ",style:{overflowY:"scroll",maxHeight:"55vh"},children:e(et,{isLoading:u,postulations:h,error:l,searchTerm:t,filter:r})})]})})}),e("div",{className:"col-md-7 col-lg-7 col-xl-7",children:e(tt,{postulations:h,refreshData:c})})]})})})})]})},Da=async()=>{try{return await(await fetch(`${S}/report/companies`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}};var La={List:Da};const Ra=()=>{const{verifySession:t}=k(),{isLoading:a,refreshData:r,hookData:n,error:o}=q(()=>t(La.List,r),[]),d={correo:"Correo",nombre_comercial:"Nombre comercial",calle:"Calle",numero_empresa:"#",colonia:"Colonia",cp:"C.P.",municipio:"Municipio",estado:"Estado",telefono:"Telefono",tipo_empresa:"Tipo de empresa",tama\u00F1o:"Tama\xF1o de la empresa",actividad_economica:"Actividad economica",seccion_b:"UBICACI\xD3N LABORAL DE LOS EGRESADOS",seccion_c:"COMPETENCIAS LABORALES",fecha:"FECHA REALIZACI\xD3N"},h={carrera:"Carrera",mando_superior:"Mando superior",mando_intermedio:"Mando intermedio",supervisor:"Supervisor",tecnico_auxiliar:"Tecnico o auxiliar",otros:"Otros"};return o.error?a?e(j,{}):e(A,{message:o.message}):(console.log(n),e("div",{children:a?e(j,{}):s(C,{children:[n.length>0?s("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[e(Ee,{id:"test-table-xls-button",className:"btn btn-outline-primary btn-lg text-primary",table:"table-companies-report",filename:"reporte-encuesta-empresas",sheet:"tablexls",buttonText:"Descargar reporte"}),s("div",{className:"mt-4  text-primary",children:[e("h4",{className:"font-weight-bolder",children:n.length}),e("h5",{className:"",children:" Empresas contestaron la encuesta"})]})]}):e("h3",{className:"text-center font-weight-bold text-primary",children:"Ninguna empresa ha contestado la encuesta"}),e("div",{className:"mt-2",children:n.length>0?e("div",{className:"table-responsive",children:s("table",{className:"table d-none",id:"table-companies-report",children:[e("thead",{children:e("tr",{children:Object.entries(d).map(([c,u])=>e("th",{className:"celdaAsignado text-center",scope:"col",children:u}))})}),e("tbody",{children:Object.entries(n).map(([c,u])=>s("tr",{children:[e("td",{children:u.correo}),e("td",{children:u.nombre_comercial}),e("td",{children:u.calle}),e("td",{children:u.numero_empresa}),e("td",{children:u.colonia}),e("td",{children:u.cp}),e("td",{children:u.municipio}),e("td",{children:u.estado}),e("td",{children:u.telefono}),e("td",{children:u.tipo_empresa}),e("td",{children:u.tama\u00F1o}),e("td",{children:u.actividad_economica}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[c].seccion_b).map(([l,i])=>e("th",{children:l}))})}),e("tbody",{children:s("tr",{children:[e("td",{className:"celdaAsignado",children:u.seccion_b.P1}),e("td",{children:s("table",{children:[e("thead",{children:e("tr",{children:Object.entries(h).map(([l,i])=>e("th",{children:i}))})}),e("tbody",{children:Object.entries(n[c].seccion_b.P2).map(([l,i])=>e("tr",{children:Object.entries(i).map(([m,g])=>e("td",{children:g}))}))})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[c].seccion_b.P3).map(([l,i])=>e("th",{className:"celdaAsignado",scope:"col",children:l.replace(/_/g," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[c].seccion_b.P3).map(([l,i])=>e("td",{children:i}))})})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[c].seccion_b.P4).map(([l,i])=>e("th",{className:"celdaAsignado",scope:"col",children:l.replace(/_/g," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[c].seccion_b.P4).map(([l,i])=>e("td",{children:i}))})})]})}),e("td",{children:n[c].seccion_b.P5})]})})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[c].seccion_c).map(([l,i])=>e("th",{className:"celdaAsignado",scope:"col",children:l.replace(/_/g," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[c].seccion_c).map(([l,i])=>typeof i=="object"&&Object.entries(i).length>0?e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(i).map(([m,g])=>e("th",{className:"celdaAsignado",scope:"col",children:m.replace(/_/g," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(i).map(([m,g])=>e("td",{children:g}))})})]})}):e("td",{children:i}))})})]})}),e("td",{children:u.fecha})]}))})]})}):null})]})}))},Ga=async()=>{try{return await(await fetch(`${S}/report/graduates`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}};var Ma={List:Ga};const Ba=()=>{const{verifySession:t}=k(),{isLoading:a,refreshData:r,hookData:n,error:o}=q(()=>t(Ma.List,r),[]),d={no_control:"No. Control",nombre_completo:"Nombre completo",fechaNacimiento:"Fecha de nacimiento",curp:"Curp",sexo:"Sexo",estado_civil:"Estado civil",calle:"Calle",numero_casa:"#",colonia:"Colonia",cp:"C.P.",municipio:"Municipio",estado:"Estado",telefono:"Tel. Celular",tel_casa:"Tel. Casa",correo:"Correo",carrera:"Carrera",fecha_egreso:"Fecha egreso",idioma_extranjero:"Dominio de idioma extranjero",titulado:"Titulado",paquetes_computacionales:"Paquetes computacionales",seccion_2:"PERTINENCIA Y DISPONIBILIDAD DE MEDIOS Y RECURSOS PARA EL APRENDIZAJE",seccion_3:"UBICACI\xD3N LABORAL DE LOS EGRESADOS",seccion_4:"DESEMPE\xD1O PROFESIONAL DE LOS EGRESADOS",seccion_5:"EXPECTATIVAS DE DESARROLLO, SUPERACI\xD3N PROFESIONAL Y DE ACTUALIZACI\xD3N",seccion_6:"PARTICIPACI\xD3N SOCIAL DE LOS EGRESADOS",seccion_7:"COMENTARIOS Y SUGERENCIAS",fecha:"FECHA REALIZACI\xD3N"};return o.error?a?e(j,{}):e(A,{message:o.message}):e("div",{children:a?e(j,{}):s(C,{children:[n.length>0?s("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[e(Ee,{id:"test-table-xls-button",className:"btn btn-outline-primary btn-lg text-primary",table:"table-graduated-report",filename:"reporte-encuesta-egresados",sheet:"tablexls",buttonText:"Descargar reporte"}),s("div",{className:"mt-4  text-primary",children:[e("h4",{className:"font-weight-bolder",children:n.length}),e("h5",{className:"",children:" Egresados contestaron la encuesta"})]})]}):e("h3",{className:"text-center font-weight-bold text-primary",children:"Ningun egresado ha contestado la encuesta"}),e("div",{className:"table-responsive",children:s("table",{id:"table-graduated-report",className:"table d-none",children:[e("thead",{children:e("tr",{children:Object.entries(d).map(([h,c])=>e("th",{className:"celdaAsignado text-center",scope:"col",children:c}))})}),e("tbody",{children:Object.entries(n).map(([h,c])=>s("tr",{children:[e("td",{children:c.no_control}),e("td",{children:c.nombre_completo}),e("td",{children:c.fechaNacimiento}),e("td",{children:c.curp}),e("td",{children:c.sexo}),e("td",{children:c.estado_civil}),e("td",{children:c.calle}),e("td",{children:c.numero_casa}),e("td",{children:c.colonia}),e("td",{children:c.cp}),e("td",{children:c.municipio}),e("td",{children:c.estado}),e("td",{children:c.telefono}),e("td",{children:c.tel_casa}),e("td",{children:c.correo}),e("td",{children:c.carrera}),e("td",{children:c.fecha_egreso}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[h].idioma_extranjero).map(([u,l])=>e("th",{className:"celdaAsignado",scope:"col",children:u}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[h].idioma_extranjero).map(([u,l])=>e("td",{children:l}))})})]})}),e("td",{children:c.titulado}),e("td",{children:c.paquetes_computacionales}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[h].seccion_2).map(([u,l])=>e("th",{className:"celdaAsignado",scope:"col",children:u}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[h].seccion_2).map(([u,l])=>e("td",{children:l}))})})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[h].seccion_3).map(([u,l])=>e("th",{className:"celdaAsignado",scope:"col",children:u.replace("_"," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[h].seccion_3).map(([u,l])=>typeof l=="object"&&Object.entries(l).length>0?e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("th",{className:"celdaAsignado",scope:"col",children:i.replace("_"," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(l).map(([i,m])=>typeof m=="object"&&Object.entries(m).length>0?e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(m).map(([g,x])=>e("th",{className:"celdaAsignado",scope:"col",children:g.replace("_"," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(m).map(([g,x])=>e("td",{children:x}))})})]})}):e("td",{children:m}))})})]})}):e("td",{children:l}))})})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[h].seccion_4).map(([u,l])=>e("th",{className:"celdaAsignado",scope:"col",children:u}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[h].seccion_4).map(([u,l])=>typeof l=="object"&&Object.entries(l).length>0?e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("th",{className:"celdaAsignado",scope:"col",children:i}))})}),e("tbody",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("td",{children:m}))})})]})}):e("td",{children:l}))})})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[h].seccion_5).map(([u,l])=>e("th",{className:"celdaAsignado",scope:"col",children:u}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[h].seccion_5).map(([u,l])=>typeof l=="object"&&Object.entries(l).length>0?e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("th",{className:"celdaAsignado",scope:"col",children:i.replace("_"," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("td",{children:m}))})})]})}):e("td",{children:l}))})})]})}),e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(n[h].seccion_6).map(([u,l])=>e("th",{className:"celdaAsignado",scope:"col",children:u}))})}),e("tbody",{children:e("tr",{children:Object.entries(n[h].seccion_6).map(([u,l])=>typeof l=="object"&&Object.entries(l).length>0?e("td",{children:s("table",{className:"table text-center",children:[e("thead",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("th",{className:"celdaAsignado",scope:"col",children:i.replace(/_/g," ")}))})}),e("tbody",{children:e("tr",{children:Object.entries(l).map(([i,m])=>e("td",{children:m}))})})]})}):e("td",{children:l}))})})]})}),e("td",{children:c.seccion_7.comentarios_sugerencias}),e("td",{children:c.fecha})]}))})]})})]})})},Va=()=>s("div",{className:"container-fluid",children:[e("div",{className:"d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center justify-content-between mb-4",children:e("h1",{className:"h3 mb-0 text-gray-800",children:"Reporte de encuestas de egresados y empresas"})}),s("div",{className:"row text-center mt-5 text-black",children:[e("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-3 mb-lg-0 mb-md-0 mb-xl-0",children:e("div",{className:"card shadow h-100",children:s("div",{className:"card-body ",children:[e("h4",{className:"mb-3",children:"Reporte de empresas"}),e(Ra,{})]})})}),e("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 ",children:e("div",{className:"card shadow h-100",children:s("div",{className:"card-body",children:[e("h4",{className:"mb-3",children:"Reporte de egresados"}),e(Ba,{})]})})})]})]}),qa=async t=>{try{return await(await fetch(`${S}/graduated/survey/verify-qr-token/${t}`)).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Qa=async()=>{try{return await(await fetch(`${S}/graduated/survey/check-answered`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},za=async()=>{try{return await(await fetch(`${S}/graduated/survey/sections`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},Ua=async t=>{try{return await(await fetch(`${S}/graduated/survey/sections/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Ha=async t=>{try{return await(await fetch(`${S}/graduated/survey/questions/section/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Wa=async t=>{try{return await(await fetch(`${S}/graduated/survey/section/${t}/answers`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Ja=async t=>{try{return await(await fetch(`${S}/graduated/survey/section1`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Ya=async t=>{try{return await(await fetch(`${S}/graduated/survey/section2`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Za=async t=>{try{return await(await fetch(`${S}/graduated/survey/section3`,f.authPostConfig(t))).json()}catch(a){return f.ApiFetchError(a.message)}},Ka=async t=>{try{return await(await fetch(`${S}/graduated/survey/section4`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Xa=async t=>{try{return await(await fetch(`${S}/graduated/survey/section5`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},es=async t=>{try{return await(await fetch(`${S}/graduated/survey/section6`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var W={verifyQRToken:qa,checkIfSurveyIsAnswered:Qa,getSectionQuestions:Ha,getSurveySections:za,getSurveySection:Ua,saveSection1:Ja,saveSection2:Ya,saveSection3:Za,saveSection4:Ka,saveSection5:Xa,saveSection6:es,getAnswersBySection:Wa};const ts=()=>{var o;const{params:t}=O(),{hookData:a,isLoading:r}=q(()=>W.verifyQRToken(t.token),[t.token]),n=a==null?void 0:a.responsePayload;return e("div",{className:"container-fluid",children:r?s("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[e("h2",{className:"text-primary font-weight-bold mb-3",children:"Espera mientras validamos la informacion..."}),e(j,{})]}):a!=null&&a.status?e("div",{className:"col-lg-8 mx-auto",children:e("div",{className:"card border-0 shadow-lg",children:e("div",{className:"card-body",children:s("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[e("h1",{className:"mb-3 text-black font-weight-bold",children:"Valido"}),e("button",{className:"btn btn-primary px-4",children:e("i",{className:"fas fa-check fa-5x text-center "})}),s("h3",{className:"mt-4 text-black font-weight-bold text-center",children:["El egresado:"," ",e("span",{className:"text-primary",children:n.nombre_completo})," ","contesto la encuesta"]}),s("div",{className:"text-black text-center mt-3",children:[e("h4",{children:"No. control: "}),e("h5",{className:"text-primary font-weight-bold mb-3",children:n.no_control}),e("h4",{children:"CURP: "}),e("h5",{className:"text-primary font-weight-bold",children:n.curp})]}),e("h5",{children:s("span",{className:"badge badge-primary ",children:["Contestada el: ",n==null?void 0:n.fecha.split(" ")[0]," a las"," ",n==null?void 0:n.fecha.split(" ")[1]]})})]})})})}):e("div",{className:"col-lg-8 mx-auto",children:e("div",{className:"card border-0 shadow-lg",children:e("div",{className:"card-body",children:s("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[e("h1",{className:"mb-3 text-black font-weight-bold",children:"No valido"}),e("button",{className:"btn btn-danger px-4",children:e("i",{className:"fas fa-times fa-5x text-center "})}),((o=a==null?void 0:a.statusText)==null?void 0:o.length)>0&&e(C,{children:e("h2",{className:"text-primary mt-4 font-weight-bold",children:a==null?void 0:a.statusText})}),!a.statusText&&s(C,{children:[s("h3",{className:"mt-4 text-black font-weight-bold",children:["El egresado:"," ",e("span",{className:"text-primary",children:n==null?void 0:n.nombre_completo})," ","no contesto la encuesta"]}),s("div",{className:"text-black text-center mt-3",children:[e("h4",{children:"No. control: "}),e("h5",{className:"text-primary font-weight-bold mb-3",children:n==null?void 0:n.no_control}),e("h4",{children:"CURP: "}),e("h5",{className:"text-primary font-weight-bold",children:n==null?void 0:n.curp})]})]})]})})})})})},as=[{path:"/accounts",element:e(B,{view:Wt})},{path:"/accounts/add",element:e(B,{view:Zt})},{path:"/accounts/edit/:id",element:e(B,{view:Kt})},{path:"/companies",element:e(B,{view:na})},{path:"/companies/add",element:e(B,{view:ca})},{path:"/companies/edit/:id",element:e(B,{view:ia})},{path:"/companies/details/:id",element:e(B,{view:da})},{path:"/graduates",element:e(B,{view:ba})},{path:"/graduates/add",element:e(B,{view:va})},{path:"/graduates/edit/:id",element:e(B,{view:Na})},{path:"/graduates/details/:id",element:e(B,{view:wa})},{path:"/jobbank",element:e(B,{view:Ea})},{path:"/jobbank/postulations/:job_id/",element:e(B,{view:Ae})},{path:"/jobbank/postulations/:job_id/:postulation_id",element:e(B,{view:Ae})},{path:"/surveys/reports",element:e(B,{view:Va})},{path:"/survey/verify/:token",element:e(B,{view:ts})}],ee=({view:t})=>{const{user:a}=k(),{location:r}=O();return a!==null&&a.fk_rol===3?e(t,{}):e(ie,{to:"/login",replace:!0,state:{prevLocation:r.pathname}})},ss=()=>{const{verifySession:t}=k(),{isLoading:a,refreshData:r,hookData:n,error:o}=q(()=>t(U.List,r),[]),{navigate:d}=O(),h=c=>{d(`/company/jobbank/postulations/${c.folio}`,{state:c})};return o.error?a?e(j,{}):e(A,{message:o.message}):e("div",{children:a?e(j,{}):e(me,{firstColumnKey:"folio",data:n,title:"Vacantes",refreshCallback:r,hideColumns:["ubicacion","fk_empresa","descripcion","nombre_comercial"],renameHeaders:{id:"Folio",fecha_creacion:"Creaci\xF3n",fecha_expira:"Expiraci\xF3n",status:"Estado"},actionElement:{element:"vacante",className:"btn btn-link text-purple font-weight-bolder",action:c=>h(c)},actions:!0,CustomButtons:at,searchText:"Buscando por",actionsText:"Opciones",emptyDataText:"Sin registros"})})},rs=()=>s("div",{className:"container-fluid",children:[s("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[e("h1",{className:"h3 mb-0 text-gray-800",children:"Mis vacantes"}),s(F,{to:"/company/jobbank/add",className:"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm",children:[e("i",{className:"fas fa-plus fa-sm text-white"})," Nueva vacante"]})]}),e(ss,{})]}),ns={folio:"",vacante:"",descripcion:"",ubicacion:"",fecha_expira:"",status:""},rt=()=>{const{form:t,setForm:a,handleChange:r}=Z(ns),{verifySession:n}=k(),[o,d]=p.exports.useState(!1),[h,c]=p.exports.useState(!1),{navigate:u,params:l,location:i}=O(),m=async x=>{x.preventDefault(),delete t.nombre_comercial;const v=b.loading("Guardando...");if(o){const y=await n(()=>U.Update(t,l.id));if(!y.status)return b.error(y.statusText,{id:v});if(t.status==="Cerrada"){b.success("Vacante editada, puede abrirla cuando requiera su publicaci\xF3n",{id:v}),u("/company/jobbank/");return}b.success("Vacante editada y publicada",{id:v}),u("/company/jobbank/")}else{const y=await n(()=>U.Save(t));if(!y.status)return b.error(y.statusText,{id:v});if(t.status==="Cerrada"){b.success("Vacante creada, puede abrirla cuando requiera su publicaci\xF3n",{id:v}),u("/company/jobbank/");return}b.success("Vacante creada y publicada",{id:v}),u("/company/jobbank/")}},g=p.exports.useCallback(async()=>{c(!0);const x=await n(()=>U.GetOne(l.id),g);if(x!=null&&x.error){a(x),c(!1);return}if(!x.folio){b.error("Este registro no existe"),c(!1),u("/company/jobbank/");return}delete x.fk_empresa,a(x),c(!1)},[l.id]);return p.exports.useEffect(()=>{if(i.state!==null){a(i.state),d(!0);return}i.pathname.includes("edit")&&(g(),d(!0))},[g,i.state]),t!=null&&t.error?h?e(j,{}):e(A,{message:t.message}):e(C,{children:h?e(j,{}):e(se,{title:o?"Editar vacante":"Nueva vacante",children:s("form",{onSubmit:m,children:[e("div",{className:"col-3 mx-auto",children:e(w,{inputId:"txtFolio",placeholder:"Folio",type:"number",disabled:o,setValue:r,name:"folio",value:t.folio})}),e("div",{className:"col-10 mx-auto",children:e(w,{inputId:"txtTitulo",placeholder:"Vacante",setValue:r,name:"vacante",value:t.vacante})}),s("div",{className:"form-group",children:[e("textarea",{placeholder:"Requerimientos",className:"form-control",rows:"10",onChange:r,name:"descripcion",value:t.descripcion}),s("div",{className:"row mt-3",children:[e("div",{className:"col-6",children:e(w,{inputId:"txtUbicacion",placeholder:"Ubicacion",setValue:r,name:"ubicacion",value:t.ubicacion})}),e("div",{className:"col-6",children:e(w,{inputId:"txtExpiracion",placeholder:"Fecha de expiracion",type:"date",setValue:r,name:"fecha_expira",value:t.fecha_expira})})]})]}),e("div",{className:"col-6 mx-auto",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:r,name:"status",value:t.status,children:[e("option",{value:"",children:"Estatus (Seleccione una opci\xF3n)"}),e("option",{value:"Abierta",children:"Abierta"}),e("option",{value:"Cerrada",children:"Cerrada"})]})}),s("div",{className:"d-flex justify-content-center",children:[e("button",{className:"btn btn-primary mr-2",children:o?"Guardar cambios":"Guardar"}),e(F,{to:"/company/jobbank/",className:"btn btn-danger",children:"Cancelar"})]})]})})})},os=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto",children:e(rt,{})})}),cs=()=>e("div",{className:"w-100",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-10 mx-auto",children:e(rt,{})})}),is=async()=>{try{return await(await fetch(`${S}//company/survey/sections`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},ls=async t=>{try{return await(await fetch(`${S}/company/survey/sections/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},ds=async t=>{try{return await(await fetch(`${S}/company/survey/questions/section/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},us=async t=>{try{return await(await fetch(`${S}/company/survey/section/${t}/answers`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},ms=async()=>{try{return await(await fetch(`${S}/company/survey/seccionb/getp6answers`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},hs=async t=>{try{return await(await fetch(`${S}/company/survey/sectionb/p6details/delete/${t}`,f.authDeleteConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},ps=async t=>{try{return await(await fetch(`${S}/company/survey/sectionb`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},fs=async t=>{try{return await(await fetch(`${S}/company/survey/sectionb/p6details`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},gs=async t=>{try{return await(await fetch(`${S}/company/survey/sectionc`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var X={getSurveySections:is,getSurveySection:ls,getSectionQuestions:ds,getAnswersBySection:us,getP6Answers:ms,deleteP6Answer:hs,saveSectionb:ps,saveP6DetailsSectionb:fs,saveSectionc:gs};const bs=async()=>{try{return await(await fetch(`${S}/company/profile`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},xs=async t=>{try{return await(await fetch(`${S}/company/profile/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var Ce={getProfile:bs,saveOrUpdateProfile:xs};const nt=()=>{const[t,a]=p.exports.useState(""),[r,n]=p.exports.useState(!1),[o,d]=p.exports.useState([]),[h,c]=p.exports.useState([]),{params:u,navigate:l}=O(),{verifySession:i}=k(),[m,g]=p.exports.useState({error:!1,message:"No error"}),x=p.exports.useCallback(async()=>{const _=await i(()=>Ce.getProfile());if(_!=null&&_.error){g(_);return}if(!_.id){l("/profile"),b("Antes de contestar la encuesta completa la informacion de tu perfil.");return}},[u.section_id]),v=p.exports.useCallback(async _=>{if(!_){const N=await i(()=>X.getAnswersBySection(u.section_id),v);if(N!=null&&N.error){g(N),n(!1);return}d(N)}},[u.section_id,i]),y=p.exports.useCallback(async _=>{if(!_){n(!0);const N=await i(()=>X.getSectionQuestions(u.section_id),y);if(N!=null&&N.error){g(N),n(!1);return}c(N)}},[u.section_id,i]),I=p.exports.useCallback(async _=>{if(!_){const N=await i(()=>X.getSurveySection(u.section_id),I);if(N!=null&&N.error){g(N),n(!1);return}a(N),n(!1)}},[u.section_id,i]);return p.exports.useEffect(()=>{let _=!1;return I(_),y(_),v(_),x(_),()=>{_=!0}},[y,v,I,x]),{section:t,questions:h,isLoading:r,userSectionAnswers:o,error:m}},vs=({answers:t,handleChange:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[0])==null?void 0:n.descripcion,":"]}),s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:o=>a("respuesta5",o.target.value),value:t.respuesta5,children:[e("option",{value:"",children:"N\xFAmero profesionistas(Seleccione una opci\xF3n)"}),e("option",{value:"1",children:"1"}),e("option",{value:"De 2 a 5",children:"De 2 a 5"}),e("option",{value:"De 6 a 8",children:"De 6 a 8"}),e("option",{value:"De 9 a 10",children:"De 9 a 10"}),e("option",{value:"M\xE1s de 10",children:"M\xE1s de 10"})]})]})},Ns=["Ing. en Gesti\xF3n Empresarial","Ing. Industrial","Ing. en Sistemas Computacionales","Ing. Electromec\xE1nica","Ing. Civil","Ing. en Sistemas Automotrices"],Fe={mando_superior:"Mando superior",mando_intermedio:"Mando intermedio",supervisor:"Supervisor o equivalente",tecnico_auxiliar:"Tecnico o Auxiliar",otros_p6:"Otros"},ys={carrera:"",mando_superior:"",mando_intermedio:"",supervisor:"",tecnico_auxiliar:"",otros_p6:""},ws=({questions:t})=>{var i;const[a,r]=p.exports.useState(ys),[n,o]=p.exports.useState([]),{verifySession:d}=k(),h=async()=>{const m=await d(()=>X.getP6Answers());o(m)},c=(m,g)=>r(G(T({},a),{[m]:g})),u=async()=>{await d(()=>X.saveP6DetailsSectionb(a)),b.success("Respuesta guardada correctamente"),h()},l=async m=>{await d(()=>X.deleteP6Answer(m.id)),h()};return p.exports.useEffect(()=>{h()},[]),s("div",{children:[s("h5",{children:[(i=t[1])==null?void 0:i.descripcion,":"]}),s("div",{className:"row",children:[e("div",{className:"col-12 col-lg-12 col-md-12 col-xl-12",children:s("select",{className:"form-control form-select mb-3",style:{height:"47px"},onChange:m=>c("carrera",m.target.value),children:[e("option",{children:"Carrera (Seleccione una opcion)"}),Ns.map(m=>e("option",{value:m,children:m},m))]})}),Object.entries(Fe).map(([m,g])=>e("div",{className:"col-6 col-lg-3 col-md-3 col-xl-3",children:e(w,{ranges:{min:0,max:100},placeholder:g,inputId:`input${m}`,type:"number",setValue:x=>c(m,x.target.value),value:a[m]})},m+g))]}),e("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end pb-5",children:s("button",{onClick:u,className:"btn btn-primary",children:[e("i",{className:"fas fa-plus"})," Agregar dato"]})}),n.length>0?e("div",{className:"table-responsive",children:s("table",{className:"table",children:[e("thead",{children:s("tr",{children:[e("th",{children:"Carrera"}),Object.entries(Fe).map(([m,g])=>e("th",{scope:"col",children:g},m)),e("th",{children:"Opciones"})]})}),e("tbody",{children:n.map((m,g)=>s("tr",{children:[e("td",{children:m.carrera}),e("td",{children:m.mando_superior}),e("td",{children:m.mando_intermedio}),e("td",{children:m.supervisor}),e("td",{children:m.tecnico_auxiliar}),e("td",{children:m.otros_p6}),e("td",{children:s("button",{className:"btn btn-danger",onClick:()=>l(m),children:[e("i",{className:"fas fa-times"})," Eliminar"]})})]},g))})]})}):null]})},Ss={completamente:"Completamente",medianamente:"Medianamente",ligeramente:"Ligeramente",ninguna_relacion:"Ninguna relaci\xF3n"},Cs=({answers:t,handleChange:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[2])==null?void 0:n.descripcion,":"]}),e("div",{className:"row",children:Object.entries(Ss).map(([o,d])=>e("div",{className:"col-6 col-lg-3 col-md-3 col-xl-3",children:e(w,{placeholder:d,inputId:`input${o}`,type:"number",setValue:h=>a(o,h.target.value),value:t[o]})},o))})]})},P=({SECTIONID:t,OPTIONS:a,handleChange:r,ANSWER:n,answers:o,other:d=!1,otherText:h="Other",cols:c="col-12 col-lg-3 col-md-3 col-xl-3"})=>{const[u,l]=p.exports.useState(!1),i=(g,x)=>{l(!1),r(n,x)},m=g=>{l(!0),r(g,"")};return p.exports.useEffect(()=>{o[n]!==""&&o[n]!==null&&!Object.values(a).includes(o[n])&&l(!0)},[]),s("div",{className:"row",children:[a.map(g=>e("div",{className:c,children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:o[n]===g,name:t,onChange:()=>i(n,g),value:o[n],id:`${t}${g}`}),e("label",{className:"form-check-label",htmlFor:`${t}${g}`,children:g})]})},g+t)),d?e("div",{className:"col-12 col-lg-4 col-md-3 col-xl-4 mt-1 mt-xl-2 mt-lg-2 mt-md-2",children:e("div",{className:"d-flex  justify-content-start align-items-center w-100",children:s("div",{className:"form-check w-100",children:[e("input",{className:"form-check-input",type:"radio",checked:o[n]!==""&&o[n]!==null&&!Object.values(a).includes(o[n]),onChange:()=>m(n),value:o[n],name:t,id:`${t}O`}),e("label",{className:"form-check-label",htmlFor:`${t}O`,children:h}),u&&e("input",{className:"form form-control",id:`txtOtra${t}`,type:"text",placeholder:"Escriba aqu\xED...",onChange:g=>r(n,g.target.value),value:o[n]})]})})}):null]})},_s=["No requerido","Requerido"],Es={area_estudio:"Area o campo de estudio",titulacion:"Titulacion",experiencia_laboral:"Experiencia Laboral/Practica (Antes de egresar)",competencia_laboral:"Competencia Laboral: Habilidad para resolver problemas, capacidad de analisis, habilidad para el aprendizaje, creatividad, administracion del tiempo, capacidad de negociacion, habilidades manuales, trabajo en equipo, iniciativa, honestidad, persistencia, etc.",posicionamiento_institucion_egreso:"Posicionamiento de la Institucion de Egreso",conocimiento_idiomas_extranjeros:"Conocimiento de Idiomas Extranjeros",recomendaciones:"Recomendaciones/Referencias",personalidad:"Personalidad/Actitudes",capacidad_liderazgo:"Capacidad de liderazgo"},js=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[3])==null?void 0:n.descripcion,":"]}),s("div",{className:"row mt-4",children:[Object.entries(Es).map(([o,d],h)=>s(p.exports.Fragment,{children:[e("div",{className:"col-12 col-xl-5",children:e("div",{className:"d-flex align-items-center h-100",children:e("h6",{children:d})})}),e("div",{className:"col-12 col-xl-7 mb-4",children:e(P,{cols:"col-6",SECTIONID:`Q8SBS${h}`,handleChange:t,OPTIONS:_s,answers:a,ANSWER:o})})]},o)),e("div",{className:"col-12 col-xl-5",children:e("div",{className:"d-flex align-items-center h-100",children:e("h6",{children:"Otros"})})}),e("div",{className:"col-12 col-xl-12 mb-4",children:e(P,{cols:"col-6",ANSWER:"otros_p8",OPTIONS:["No requerido"],SECTIONID:"Q8SBOther",other:!0,answers:a,handleChange:t,otherText:"Requerido"})})]})]})},ks=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[4])==null?void 0:n.descripcion,":"]}),e("div",{className:"form-group",children:e("textarea",{rows:"5",className:"form-control",placeholder:"Escribelas aqui...",onChange:o=>t("respuesta9",o.target.value),value:a.respuesta9})})]})},Is={respuesta5:"",completamente:"",medianamente:"",ligeramente:"",ninguna_relacion:"",area_estudio:"",titulacion:"",experiencia_laboral:"",competencia_laboral:"",posicionamiento_institucion_egreso:"",conocimiento_idiomas_extranjeros:"",recomendaciones:"",personalidad:"",capacidad_liderazgo:"",otros_p8:"",respuesta9:""},$s=()=>{const[t,a]=p.exports.useState(Is),{section:r,questions:n,isLoading:o,userSectionAnswers:d,error:h}=nt(),{verifySession:c}=k(),u=J(),l=(m,g)=>a(G(T({},t),{[m]:g})),i=async()=>{const m=await c(()=>X.saveSectionb(t));if(!m.status)return b.error(m.statusText);u("/company/survey/section/2")};return p.exports.useEffect(()=>{d&&a(d)},[d]),h.error?e(A,{message:h.message}):e(C,{children:o?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-border",children:r==null?void 0:r.descripcion}),e(vs,{answers:t,handleChange:l,questions:n}),e(ws,{questions:n}),e(Cs,{answers:t,handleChange:l,questions:n}),e(js,{answers:t,handleChange:l,questions:n}),e(ks,{answers:t,handleChange:l,questions:n}),e("div",{className:"d-flex justify-content-center mt-5",children:s("button",{onClick:i,className:"btn btn-primary",children:["Siguiente ",e("i",{className:"fas fa-arrow-right"})]})})]})})},Pe=[1,2,3,4,5],Os={habilidad_resolver_conflictos:"Habilidad para resolver conflictos",ortografia_redaccion:"Ortograf\xEDa y redacci\xF3n de documentos",mejora_procesos:"Mejora de procesos",trabajo_equipo:"Trabajo en equipo",habilidad_administrar_tiempo:"Habilidad para administrar tiempo",seguridad_personal:"Seguridad personal",facilidad_palabra:"Facilidad de palabra",gestion_proyectos:"Gesti\xF3n de proyectos",puntualidad_asistencia:"Puntualidad y asistencia",cumplimiento_normas:"Cumplimiento de las normas",integracion_trabajo:"Integraci\xF3n al trabajo",creatividad_innovacion:"Creatividad e innovaci\xF3n",capacidad_negociacion:"Capacidad de negociaci\xF3n",capacidad_analisis:"Capacidad de abstracci\xF3n, an\xE1lisis y s\xEDntesis",liderazgo:"Liderazgo y toma de decisiones",adaptacion_cambio:"Adaptaci\xF3n al cambio"},As=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[0])==null?void 0:n.descripcion,":"]}),s("div",{className:"row mt-4",children:[Object.entries(Os).map(([o,d],h)=>s(p.exports.Fragment,{children:[e("div",{className:"col-12 col-xl-4",children:e("div",{className:"d-flex align-items-center h-100",children:e("h6",{children:d})})}),e("div",{className:"col-12 col-xl-8 mb-4",children:e(P,{cols:"col-2 col-md-2 col-xl-1 mx-auto",SECTIONID:`Q10SCS${h}`,handleChange:t,OPTIONS:Pe,answers:a,ANSWER:o})})]},o)),e("div",{className:"col-12 col-xl-4",children:e("div",{className:"d-flex align-items-center h-100",children:e(w,{placeholder:"Otras competencias (especifique)",inputId:"txtOtrosDetalle",type:"text",setValue:o=>t("otros_detalle",o.target.value),value:a.otros_detalle})})}),e("div",{className:"col-12 col-xl-8 mb-4",children:e(P,{cols:"col-2 col-md-2 col-xl-1 mx-auto",SECTIONID:"Q10SCOther",handleChange:t,OPTIONS:Pe,answers:a,ANSWER:"otros"})})]})]})},Fs={excelente:"Excelente",muy_bueno:"Muy bueno",bueno:"Bueno",regular:"Regular",malo:"Malo"},Ps=({answers:t,handleChange:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[1])==null?void 0:n.descripcion,":"]}),e("div",{className:"row",children:Object.entries(Fs).map(([o,d])=>e("div",{className:"col-6 col-lg-3 col-md-3 col-xl-3",children:e(w,{placeholder:d,inputId:`input${o}`,type:"number",setValue:h=>a(o,h.target.value),value:t[o]})},o))})]})},Ts=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[2])==null?void 0:n.descripcion,":"]}),e("div",{className:"form-group",children:e("textarea",{rows:"5",className:"form-control",placeholder:"Escribelas aqui...",onChange:o=>t("respuesta12",o.target.value),value:a.respuesta12})})]})},Ds=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[3])==null?void 0:n.descripcion,":"]}),e("div",{className:"form-group",children:e("textarea",{rows:"5",className:"form-control",placeholder:"Escribe aqui los comentarios y sugerencias...",onChange:o=>t("respuesta13",o.target.value),value:a.respuesta13})})]})},Ls={habilidad_resolver_conflictos:"",ortografia_redaccion:"",mejora_procesos:"",trabajo_equipo:"",habilidad_administrar_tiempo:"",seguridad_personal:"",facilidad_palabra:"",gestion_proyectos:"",puntualidad_asistencia:"",cumplimiento_normas:"",integracion_trabajo:"",creatividad_innovacion:"",capacidad_negociacion:"",capacidad_analisis:"",liderazgo:"",adaptacion_cambio:"",otros:"",otros_detalle:"",excelente:"",muy_bueno:"",bueno:"",regular:"",malo:"",respuesta12:"",respuesta13:""},Rs=()=>{const[t,a]=p.exports.useState(Ls),{section:r,questions:n,isLoading:o,userSectionAnswers:d,error:h}=nt(),{verifySession:c}=k(),u=J(),l=(m,g)=>a(G(T({},t),{[m]:g})),i=async()=>{const m=await c(()=>X.saveSectionc(t));if(!m.status)return b.error(m.statusText);u("/company/survey"),b.success("Gracias por contestar la encuesta!")};return p.exports.useEffect(()=>{d&&a(d)},[d]),h.error?e(A,{message:h.message}):e(C,{children:o?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-border",children:r==null?void 0:r.descripcion}),e(As,{answers:t,handleChange:l,questions:n}),e(Ps,{answers:t,handleChange:l,questions:n}),e(Ts,{answers:t,handleChange:l,questions:n}),e(Ds,{answers:t,handleChange:l,questions:n}),s("div",{className:"d-flex justify-content-center mt-5",children:[s(F,{to:"/company/survey/section/1",className:"btn btn-primary mr-2",children:[e("i",{className:"fas fa-arrow-left"})," Anterior"]}),s("button",{onClick:i,className:"btn btn-primary",children:["Finalizar ",e("i",{className:"fas fa-check"})]})]})]})})},Gs=()=>{const{params:t}=O();return e("div",{className:"container-fluid text-black",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12  col-xl-9 mx-auto",children:e("div",{className:"card shadow rounded-0 border-0",children:s("div",{className:"card-body",children:[parseInt(t.section_id)===1?e($s,{}):null,parseInt(t.section_id)===2?e(Rs,{}):null,parseInt(t.section_id)<1||parseInt(t.section_id)>2?e(ie,{to:"/company/survey",replace:!0}):null]})})})})},Ms=["Sin revisar","Revisado","Mas recientes"],Te=()=>{const[t,a]=p.exports.useState(""),[r,n]=p.exports.useState("Sin revisar"),{params:o}=O(),{verifySession:d}=k(),{hookData:h,refreshData:c,isLoading:u}=q(()=>d(()=>U.GetPostulations(o.job_id),c),[o.job_id]);return s("div",{className:"container-fluid mb-3",children:[e(st,{}),e("div",{className:"d-flex justify-content-center mb-3",children:e("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:Ms.map(l=>e("button",{type:"button",onClick:()=>n(l),className:`btn btn-outline-primary ${r===l?"active":""} `,children:l}))})}),e("div",{ref:ge(),"data-aos":"flip-down",className:"col-xl-10 mx-auto",children:e("div",{className:"card shadow rounded",children:e("div",{className:"card-body",children:s("div",{className:"row",children:[e("div",{className:"col-md-5 col-lg-5 col-xl-5",children:e("div",{style:{height:"65vh"},children:s("div",{style:{height:"63vh"},children:[s("div",{className:"input-group w-100 mb-3 px-2 overflow-auto",children:[e("input",{type:"text",className:"form-control bg-light",placeholder:"Buscar postulaciones por nombre o numero de postulaci\xF3n...","aria-label":"Search",autoComplete:"off","aria-describedby":"basic-addon2",onChange:l=>a(l.target.value)}),e("div",{className:"input-group-append",children:e("button",{className:"btn btn-primary",type:"button",children:e("i",{className:"fas fa-search fa-sm"})})})]}),e("div",{className:"purple-scroll ",style:{overflowY:"scroll",maxHeight:"55vh"},children:e(et,{isLoading:u,searchTerm:t,postulations:h,filter:r})})]})})}),e("div",{className:"col-md-7 col-lg-7 col-xl-7",children:e(tt,{postulations:h,refreshData:c})})]})})})})]})},Bs=()=>s("div",{className:"container-fluid text-black",children:[e("div",{className:"d-sm-flex align-items-center justify-content-center mb-4",children:e("h1",{className:"h3 mb-0 text-center font-weight-bold border-bottom border-dark border-1 pb-2",children:"Cuestionario para empleadores"})}),e("h3",{className:"text-left",children:"Instrucciones:"}),e("p",{children:"Por favor lea cuidadosamente y conteste este cuestionario de la siguiente manera, seg\xFAn sea el caso"}),s("ol",{start:1,className:"font-weight-bold text-justify instructions-list",children:[e("li",{children:"En el caso de preguntas cerradas, seleccione la opcion que considere apropiada."}),e("li",{children:'En las preguntas de valoraci\xF3n se utiliza la escala del 1 al 5, en la que el 1 es "muy malo" y 5 es "muy bueno".'}),e("li",{children:"En los casos de preguntas abiertas dejamos un campo de texto para que escriba con may\xFAscula una respuesta."}),e("li",{children:"Al final anexamos un inciso para comentarios y sugerencias, le agradeceremos que escriba lo que considere prudente para mejorar nuestro sistema educativo o bien los temas que, a su juicio, omitimos en el cuestionario."})]}),e("p",{children:"Gracias por su gentil colaboracion, una vez este listo, presione el boton para comenzar."}),e("div",{className:"d-flex justify-content-center h-100 mt-4",children:s(F,{to:"/company/survey/section/1",className:"btn btn-primary btn-lg",children:["Comenzar ",e("i",{className:"fas fa-arrow-right"})]})})]}),Vs=[{path:"/company/jobbank",element:e(ee,{view:rs})},{path:"/company/jobbank/add",element:e(ee,{view:os})},{path:"/company/jobbank/edit/:id",element:e(ee,{view:cs})},{path:"/company/jobbank/postulations/:job_id",element:e(ee,{view:Te})},{path:"/company/jobbank/postulations/:job_id/:postulation_id",element:e(ee,{view:Te})},{path:"/company/survey",element:e(ee,{view:Bs})},{path:"/company/survey/section/:section_id",element:e(ee,{view:Gs})}],qs=()=>{const{verifySession:t}=k(),{hookData:a,isLoading:r,refreshData:n}=q(()=>t(W.checkIfSurveyIsAnswered,n),[]);return a!=null&&a.error?e(A,{message:a==null?void 0:a.statusText}):s("div",{className:"container-fluid text-black",children:[e("div",{className:"d-sm-flex align-items-center justify-content-center mb-4",children:e("h1",{className:"h3 mb-0 text-center font-weight-bold border-bottom border-dark border-1 pb-2",children:"Cuestionario de seguimiento de egresados"})}),r?e(j,{}):e(C,{children:a!=null&&a.fk_egresado?e("div",{className:"col-lg-6 mx-auto",children:e("div",{className:"card shadow-lg border-0 animated--grow-in",children:s("div",{className:"card-body",children:[e("h5",{className:"text-center mb-4",children:"Ya has contestado la encuesta, puedes ver tu acuse aqu\xED"}),e("div",{className:"d-flex justify-content-center",children:e(be,{buttonClass:"btn btn-primary btn-lg",buttonCloseText:"Cerrar",id:"acuse",title:"Mi acuse",modalClass:"modal-dialog modal-xl modal-dialog-scrollable",buttonText:"Ver acuse",children:e("object",{data:`${je}/graduated/acuses/${a.acuse}`,type:"application/pdf",frameBorder:"0",width:"100%",style:{height:"100vh",width:"100%"},children:s("div",{className:"d-flex flex-column justify-content-center",children:[s("p",{className:"text-center",children:["El navegador no soporta la visualizacion de PDF."," "]}),e("a",{className:"btn btn-primary",href:`http://localhost:4000/graduated/acuses/${a.acuse}`,download:!0,children:"Descargar PDF"})]})})})}),s("h5",{className:"mt-5 text-center",children:["Si te pidieron actualizar tus respuestas puedes"," ",s(F,{className:"btn-link btn-link-primary",to:"/graduated/survey/section/1",children:["contestar la encuesta de nuevo"," ",e("i",{className:"fas fa-arrow-right fa-xs"})]})]})]})})}):s(C,{children:[e("h3",{className:"text-left ",children:"Instrucciones:"}),e("p",{children:"Por favor lea cuidadosamente y conteste este cuestionario de la siguiente manera, seg\xFAn sea el caso:"}),s("ol",{start:1,className:"font-weight-bold text-justify instructions-list",children:[e("li",{children:"En el caso de preguntas cerradas, seleccione la opci\xF3n que considere apropiada."}),e("li",{children:'En las preguntas de valoraci\xF3n la escala utilizada es del 1 al 5, en la que 1 es igual a "muy malo" y 5 es "muy bueno".'}),e("li",{children:"En los casos de preguntas abiertas dejamos un campo de texto para que escriba con may\xFAscula una respuesta."}),e("li",{children:"Al final anexamos un inciso para comentarios y sugerencias, le agradeceremos que escriba lo que considere prudente para mejorar nuestro sistema educativo o bien los temas que, a su juicio, hayamos omitido en el cuestionario."})]}),e("p",{children:"Gracias por su gentil colaboraci\xF3n, una vez este listo, presione el bot\xF3n para comenzar."}),e("div",{className:"d-flex justify-content-center h-100 mt-4",children:s(F,{to:"/graduated/survey/section/1",className:"btn btn-primary btn-lg",children:["Comenzar ",e("i",{className:"fas fa-arrow-right"})]})})]})})]})},Qs=async()=>{try{return await(await fetch(`${S}/graduated/profile`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},zs=async t=>{try{return await(await fetch(`${S}/graduated/profile/save`,f.authPostConfig(t))).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Us=async t=>{try{return await(await fetch(`${S}/graduated/upload/curriculum`,{method:"PUT",headers:{Authorization:f.getAndSetAccessToken()},body:t})).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},Hs=async()=>{try{return await(await fetch(`${S}/graduated/curriculum`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}};var ae={getProfile:Qs,saveOrUpdateProfile:zs,uploadCurriculum:Us,getCurriculum:Hs};const le=()=>{const[t,a]=p.exports.useState(""),[r,n]=p.exports.useState(!1),[o,d]=p.exports.useState([]),[h,c]=p.exports.useState([]),{params:u,navigate:l}=O(),{verifySession:i}=k(),[m,g]=p.exports.useState({error:!1,message:"No error"}),x=p.exports.useCallback(async _=>{if(!_){n(!0);const N=await i(()=>W.getSurveySection(u.section_id),x);if(N!=null&&N.error){g(N),n(!1);return}a(N)}},[u.section_id,i]),v=p.exports.useCallback(async _=>{if(!_){const N=await i(()=>W.getSectionQuestions(u.section_id),v);if(N!=null&&N.error){g(N),n(!1);return}c(N)}},[u.section_id,i]),y=p.exports.useCallback(async _=>{if(!_){const N=await i(()=>W.getAnswersBySection(u.section_id),y);if(N!=null&&N.error){g(N),n(!1);return}d(N),n(!1)}},[u.section_id,i]),I=p.exports.useCallback(async()=>{const _=await i(()=>ae.getProfile());if(_!=null&&_.error){g(_);return}if(!_.id){l("/profile"),b("Antes de contestar la encuesta completa la informacion de tu perfil.");return}},[u.section_id]);return p.exports.useEffect(()=>{let _=!1;return x(_),v(_),y(_),I(_),()=>{_=!0}},[v,y,x,I]),{section:t,userSectionAnswers:o,questions:h,isLoading:r,error:m}},Ws=["Muy buena","Buena","Regular","Mala"],Js=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q1S1";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[2])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:Ws,ANSWER:"respuesta1",answers:a,handleChange:t})]})},Ys=["Muy buenos","Buenos","Regulares","Malos"],Zs=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q2S1";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[1])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:Ys,ANSWER:"respuesta2",answers:a,handleChange:t})]})},Ks=["Muy buena","Buena","Regular","Mala"],Xs=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q3S1";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[2])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:Ks,ANSWER:"respuesta3",answers:a,handleChange:t})]})},er=["Muy buena","Buena","Regular","Mala"],tr=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q4S1";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[3])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:er,ANSWER:"respuesta4",answers:a,handleChange:t})]})},ar=["Muy buena","Buena","Regular","Mala"],sr=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q5S1";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[4])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:ar,ANSWER:"respuesta5",answers:a,handleChange:t})]})},rr=["Muy buena","Buena","Regular","Mala"],nr=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q6S1";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[5])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:rr,ANSWER:"respuesta6",answers:a,handleChange:t})]})},or={respuesta1:"",respuesta2:"",respuesta3:"",respuesta4:"",respuesta5:"",respuesta6:""},cr=()=>{const[t,a]=p.exports.useState(or),{section:r,questions:n,isLoading:o,userSectionAnswers:d,error:h}=le(),c=J(),{verifySession:u}=k(),l=(m,g)=>a(G(T({},t),{[m]:g})),i=async()=>{const m=b.loading("Guardando..."),g=await u(()=>W.saveSection1(t));if(!g.status)return b.error(g.statusText,{id:m});b.dismiss(m),c("/graduated/survey/section/2")};return p.exports.useEffect(()=>{d!=null&&d.respuesta1&&a(d)},[d]),h.error?e(A,{message:h.message}):e(C,{children:o?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-bolder",children:r==null?void 0:r.descripcion}),e(Js,{answers:t,handleChange:l,questions:n}),e(Zs,{answers:t,handleChange:l,questions:n}),e(Xs,{answers:t,handleChange:l,questions:n}),e(tr,{answers:t,handleChange:l,questions:n}),e(sr,{answers:t,handleChange:l,questions:n}),e(nr,{answers:t,handleChange:l,questions:n}),e("div",{className:"d-flex justify-content-center mt-5",children:s("button",{onClick:i,className:"btn btn-primary",children:["Siguiente ",e("i",{className:"fas fa-arrow-right"})]})})]})})},ir=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q1S2";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[0])==null?void 0:o.descripcion,":"]}),s("div",{className:"row",children:[e("div",{className:"col-12 col-lg-3 col-md-3 col-xl-3",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta1==="Trabaja",name:n,onChange:()=>t("respuesta1","Trabaja"),value:a.respuesta1,id:`${n}MB`}),e("label",{className:"form-check-label",htmlFor:`${n}MB`,children:"Trabaja"})]})}),e("div",{className:"col-12 col-lg-3 col-md-3 col-xl-3",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta1==="Estudia",onChange:()=>t("respuesta1","Estudia"),value:a.respuesta1,name:n,id:`${n}B`}),e("label",{className:"form-check-label",htmlFor:`${n}B`,children:"Estudia"})]})}),e("div",{className:"col-12 col-lg-3 col-md-3 col-xl-3",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta1==="Estudia y trabaja",onChange:()=>t("respuesta1","Estudia y trabaja"),value:a.respuesta1,name:n,id:`${n}R`}),e("label",{className:"form-check-label",htmlFor:`${n}R`,children:"Estudia y trabaja"})]})}),e("div",{className:"col-12 col-lg-3 col-md-3 col-xl-3",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta1==="No estudia ni trabaja",onChange:()=>t("respuesta1","No estudia ni trabaja"),value:a.respuesta1,name:n,id:`${n}M`}),e("label",{className:"form-check-label",htmlFor:`${n}M`,children:"No estudia ni trabaja"})]})})]})]})},lr=["Especialidad","Maestria","Doctorado","Idiomas"],dr=({answers:t,handleChange:a})=>s("div",{className:"pb-4",children:[e("h5",{children:"\xBFQue estudia?"}),e(P,{ANSWER:"tipo_estudio",OPTIONS:lr,SECTIONID:"SQ1S2",other:!0,answers:t,handleChange:a,otherText:"Otro"}),e("div",{className:"row",children:s("div",{className:"col-12 col-lg-12 col-md-12 col-xl-12",children:[e("div",{className:"mt-4"}),e(w,{placeholder:"Especialidad e institucion",inputId:"txtEspecialidadInstitucion",type:"text",setValue:n=>a("especialidad_institucion",n.target.value),value:t.especialidad_institucion})]})})]}),De=({answers:t,handleChange:a})=>e(dr,{answers:t,handleChange:a}),ur=["Antes de egresar","Menos de seis meses","Entre seis meses y un a\xF1o","Mas de un a\xF1o"],mr=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Tiempo transcurrido para obtener el primer empleo:"}),e(P,{SECTIONID:"WQ2S2",OPTIONS:ur,ANSWER:"tiempo_primer_empleo",answers:a,handleChange:t})]}),hr=["Bolsa de trabajo del plantel","Contactos personales","Residencia Profesional","Medios masivos de comunicacion"],pr=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Medio para obtener el empleo:"}),e(P,{SECTIONID:"WQ1S2",OPTIONS:hr,ANSWER:"medio_obtener_empleo",answers:a,handleChange:t,other:!0,otherText:"Otros"})]}),ye=["Competencias laborales","Titulo profesional","Examen de seleccion","Idioma extranjero","Actitudes y habilidades socio-comunicativas (principios y valores)"],fr=({handleChange:t,answers:a})=>{const[r,n]=p.exports.useState([]),o=new Intl.ListFormat("es"),d=c=>{if(c==="Ninguno"){n(["Ninguno"]);return}if(r.includes(c)){if(r.includes("Ninguno")&&r.length>0){n(r.filter(u=>u!==c)),n(r.filter(u=>u!=="Ninguno"));return}n(r.filter(u=>u!==c))}else{if(r.includes("Ninguno")&&r.length>0){n([...r,c]),n(r.filter(u=>u!=="Ninguno"));return}n(u=>[...u,c])}},h=()=>{if(!a.requisitos_contratacion)return;const c=a.requisitos_contratacion;for(let u=0;u<ye.length;u++){const l=ye[u],i=c.indexOf(l);if(i!==-1){const m=i+l.length,g=c.substring(i,m);n(x=>[...x,g]),console.log(r)}}};return p.exports.useEffect(()=>{t("requisitos_contratacion",o.format(r))},[r]),p.exports.useEffect(()=>{h()},[]),e(C,{children:s("div",{className:"pb-3",children:[e("h5",{children:"Requisitos de contrataci\xF3n:"}),s("div",{className:"row",children:[ye.map((c,u)=>e("div",{className:"col",children:s("div",{className:"form-group form-check",children:[e("input",{type:"checkbox",className:"form-check-input",id:`exampleCheck${u}`,checked:r.includes(c),value:c,onChange:l=>d(l.target.value)}),e("label",{className:"form-check-label",htmlFor:`exampleCheck${u}`,children:c})]})},c)),e("div",{className:"col",children:s("div",{className:"form-group form-check",children:[e("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck7",checked:r.includes("Ninguno")&&r.length===1,value:"Ninguno",onChange:c=>d(c.target.value)}),e("label",{className:"form-check-label",htmlFor:"exampleCheck7",children:"Ninguno"})]})})]})]})})},gr=["Ingles","Frances","Aleman","Japones"],br=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Idioma que utiliza en su trabajo:"}),e(P,{SECTIONID:"WQ4S2",OPTIONS:gr,ANSWER:"idioma_utilizado",answers:a,handleChange:t,other:!0,otherText:"Otro"})]}),xr={idioma_hablar:"Hablar",idioma_escribir:"Escribir",idioma_leer:"Leer",idioma_escuchar:"Escuchar"},vr=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"En que proporci\xF3n utiliza cada habilidad del idioma extranjero en su desempe\xF1o laboral (%):"}),e("div",{className:"row",children:Object.entries(xr).map(([r,n])=>e("div",{className:"col-md-3 col-xl-3",children:e(w,{placeholder:n,setValue:o=>t(r,o.target.value),value:a[r],inputId:`input${r}`,type:"number"})},r))})]}),Nr=["Menos de un a\xF1o","Un a\xF1o","Dos a\xF1os","Tres a\xF1os","Mas de tres a\xF1os"],yr=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Antiguedad en el empleo:"}),e(P,{cols:"col-12 col-md-2 col-lg-2 col-xl-2 mx-auto",SECTIONID:"WQ6S2",OPTIONS:Nr,ANSWER:"antiguedad_empleo",answers:a,handleChange:t}),e("div",{className:"row mt-2",children:e("div",{className:"col-12 col-lg-4",children:e(w,{inputId:"txtIngreso",placeholder:"A\xF1o de ingreso",type:"number",setValue:n=>t("a\xF1o_ingreso",Number(n.target.value)||0),value:a.a\u00F1o_ingreso})})})]}),wr=["Menos de 5","Entre 5 y 7","Entre 8 y 10","Mas de 10"],Sr=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Ingreso (Salario m\xEDnimo diario):"}),e(P,{SECTIONID:"WQ7S2",OPTIONS:wr,ANSWER:"salario",answers:a,handleChange:t})]}),Cr=["Tecnico","Supervisor","Jefe de area","Funcionario","Directivo","Empresario"],_r=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Nivel jer\xE1rquico en el trabajo:"}),e(P,{cols:"col-12 col-lg-3 col-md-12 col-xl-2",SECTIONID:"WQ8S2",OPTIONS:Cr,ANSWER:"nivel_jerarquico",answers:a,handleChange:t})]}),Er=["Base","Eventual","Contrato"],jr=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Condici\xF3n de trabajo:"}),e(P,{cols:"col-md-12 col-lg-4 col-xl-4",SECTIONID:"WQ9S2",OPTIONS:Er,ANSWER:"condicion_trabajo",answers:a,handleChange:t,other:!0,otherText:"Otros"})]}),kr=["0%","20%","40%","60%","80%","100%"],Ir=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Relaci\xF3n del trabajo con su area de formaci\xF3n:"}),e(P,{cols:"col-12 col-md-2 col-lg-2 col-xl-2",SECTIONID:"WQ10S2",OPTIONS:kr,ANSWER:"relacion_trabajo_formacion",answers:a,handleChange:t})]}),$r=({handleChange:t,answers:a})=>s("div",{className:"pb-3",children:[e("h5",{children:"Datos de la empresa u organismo:"}),s("div",{className:"pb-3",children:[e("h6",{children:"Organismo: "}),e(P,{SECTIONID:"WCMS2OPT1",OPTIONS:["Publico","Privado","Social"],ANSWER:"organismo_empresa",answers:a,handleChange:t})]}),e(w,{inputId:"txtGiroEmpresa",placeholder:"Giro o actividad principal de la empresa u organismo",setValue:r=>t("actividad_principal_empresa",r.target.value),value:a.actividad_principal_empresa}),e(w,{inputId:"txtRazonsocial",placeholder:"Razon social",setValue:r=>t("razon_social",r.target.value),value:a.razon_social}),e("h6",{children:"Domicilio"}),s("div",{className:"row",children:[e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtCalle",placeholder:"Calle",setValue:r=>t("calle",r.target.value),value:a.calle})}),e("div",{className:"col-12 col-xl-2",children:e(w,{inputId:"txtNumero",placeholder:"Numero",type:"number",setValue:r=>t("numero",Number(r.target.value)||0),value:a.numero})}),e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtColonia",placeholder:"Colonia",setValue:r=>t("colonia",r.target.value),value:a.colonia})}),e("div",{className:"col-12 col-xl-2",children:e(w,{inputId:"txtCP",placeholder:"C.P",type:"number",setValue:r=>t("cp",Number(r.target.value)||0),value:a.cp})}),e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtCiudad",placeholder:"Ciudad",setValue:r=>t("ciudad",r.target.value),value:a.ciudad})}),e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtMunicipio",placeholder:"Municipio",setValue:r=>t("municipio",r.target.value),value:a.municipio})}),e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtEstado",placeholder:"Estado",setValue:r=>t("estado",r.target.value),value:a.estado})})]}),e("h6",{children:"Cont\xE1cto"}),s("div",{className:"row",children:[e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtTelefono",placeholder:"Telefono",type:"number",setValue:r=>t("telefono_empresa",Number(r.target.value)||0),value:a.telefono_empresa})}),e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtTelefonoExt",placeholder:"Telefeno Ext.",type:"number",setValue:r=>t("telefono_ext_empresa",Number(r.target.value)||0),value:a.telefono_ext_empresa})}),e("div",{className:"col-12 col-xl-4",children:e(w,{inputId:"txtFax",placeholder:"Fax",type:"number",setValue:r=>t("fax_empresa",Number(r.target.value))||0,value:a.fax_empresa})}),e("div",{className:"col-12",children:e(w,{inputId:"txtEmail",placeholder:"Email",type:"email",setValue:r=>t("email_empresa",r.target.value),value:a.email_empresa})}),e("div",{className:"col-12",children:e(w,{inputId:"txtPaginaweb",placeholder:"Pagina web",setValue:r=>t("pagina_web",r.target.value),value:a.pagina_web})}),e("div",{className:"col-12",children:e(w,{inputId:"txtJefe",placeholder:"Nombre y puesto del jefe inmediato",setValue:r=>t("jefe_inmediato",r.target.value),value:a.jefe_inmediato})})]}),s("div",{className:"pb-3",children:[e("h6",{children:"Sector econ\xF3mico de la empresa u organizaci\xF3n"}),e(P,{SECTIONID:"WCMS2OPT2",OPTIONS:["Agroindustria","Pesquero","Minero","Industrial","Construccion","Petrolero","Educativo","Turismo","Comercio","Servicios Financieros"],ANSWER:"sector_empresa",answers:a,handleChange:t,other:!0,otherText:"Otros"})]}),s("div",{className:"pb-3",children:[e("h6",{children:"Tama\xF1o de la empresa u organizaci\xF3n"}),e(P,{SECTIONID:"WCMS2OPT3",OPTIONS:["Microempresa (1-30)","Peque\xF1a (31-100)","Mediana (101-500)","Grande (mas de 500)"],ANSWER:"tama\xF1o_empresa",answers:a,handleChange:t})]})]}),Le=({answers:t,handleChange:a,onceQuestionsAnswered:r})=>s(C,{children:[r?null:s(C,{children:[e(mr,{answers:t,handleChange:a}),e(pr,{answers:t,handleChange:a})]}),e(fr,{answers:t,handleChange:a}),e(br,{answers:t,handleChange:a}),e(vr,{answers:t,handleChange:a}),e(yr,{answers:t,handleChange:a}),e(Sr,{answers:t,handleChange:a}),e(_r,{answers:t,handleChange:a}),e(jr,{answers:t,handleChange:a}),e(Ir,{answers:t,handleChange:a}),e($r,{answers:t,handleChange:a})]}),Or={respuesta1:"",tipo_estudio:"",especialidad_institucion:"",tiempo_primer_empleo:"",medio_obtener_empleo:"",requisitos_contratacion:"",idioma_utilizado:"",idioma_hablar:"",idioma_escribir:"",idioma_leer:"",idioma_escuchar:"",antiguedad_empleo:"",a\u00F1o_ingreso:"",salario:"",nivel_jerarquico:"",condicion_trabajo:"",relacion_trabajo_formacion:"",organismo_empresa:"",actividad_principal_empresa:"",razon_social:"",calle:"",numero:"",colonia:"",cp:"",ciudad:"",municipio:"",estado:"",telefono_empresa:"",telefono_ext_empresa:"",fax_empresa:"",email_empresa:"",pagina_web:"",jefe_inmediato:"",sector_empresa:"",tama\u00F1o_empresa:""},Ar=()=>{const{section:t,questions:a,isLoading:r,userSectionAnswers:n,error:o}=le(),[d,h]=p.exports.useState(!1),[c,u]=p.exports.useState(Or),{verifySession:l}=k(),i=J(),m=async()=>{const v=b.loading("Guardando..."),y=await l(()=>W.saveSection2(c));if(!y.status)return b.error(y.statusText,{id:v});b.dismiss(v),i("/graduated/survey/section/3")},g=(v,y)=>u(G(T({},c),{[v]:y})),x=p.exports.useCallback(()=>{var v,y;!(n!=null&&n.respuesta1)||(u(n),((v=n.tiempo_primer_empleo)==null?void 0:v.length)>0&&((y=n.medio_obtener_empleo)==null?void 0:y.length)>0&&h(!0))},[n]);return p.exports.useEffect(()=>{x()},[x]),o.error?e(A,{message:o.message}):e(C,{children:r?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-bolder",children:t==null?void 0:t.descripcion}),e(ir,{handleChange:g,answers:c,questions:a}),s("div",{className:"mt-2",children:[c.respuesta1==="Estudia"?e(De,{answers:c,handleChange:g}):null,c.respuesta1==="Trabaja"?e(Le,{onceQuestionsAnswered:d,answers:c,handleChange:g}):null,c.respuesta1==="Estudia y trabaja"?s(C,{children:[e(De,{answers:c,handleChange:g}),e(Le,{onceQuestionsAnswered:d,answers:c,handleChange:g})]}):null]}),s("div",{className:"d-flex justify-content-center mt-5",children:[s(F,{to:"/graduated/survey/section/1",className:"btn btn-primary mr-2",children:[e("i",{className:"fas fa-arrow-left"})," Anterior"]}),s("button",{onClick:m,className:"btn btn-primary",children:["Siguiente ",e("i",{className:"fas fa-arrow-right"})]})]})]})})},Fr=["Muy eficiente","Eficiente","Poco eficiente","Deficiente"],Pr=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q1S3";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[0])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:Fr,ANSWER:"respuesta1",answers:a,handleChange:t})]})},Tr=["Excelente","Bueno","Regular","Malo","P\xE9simo"],Dr=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q2S3";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[1])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:Tr,ANSWER:"respuesta2",answers:a,handleChange:t})]})},Lr=["Excelente","Bueno","Regular","Malo","P\xE9simo"],Rr=({handleChange:t,answers:a,questions:r})=>{var o;const n="Q3S3";return s("div",{className:"pb-4",children:[s("h5",{children:[(o=r[2])==null?void 0:o.descripcion,":"]}),e(P,{SECTIONID:n,OPTIONS:Lr,ANSWER:"respuesta3",answers:a,handleChange:t})]})},Gr=[1,2,3,4,5],Mr={area_estudio:"Area o campo de estudio",titulacion:"Titulacion",experiencia_laboral:"Experiencia Laboral/Practica (Antes de egresar)",competencia_laboral:"Competencia Laboral: Habilidad para resolver problemas, capacidad de analisis, habilidad para el aprendizaje, creatividad, administracion del tiempo, capacidad de negociacion, habilidades manuales, trabajo en equipo, iniciativa, honestidad, persistencia, etc.",posicionamiento_institucion_egreso:"Posicionamiento de la Institucion de Egreso",conocimiento_idiomas_extranjeros:"Conocimiento de Idiomas Extranjeros",recomendaciones:"Recomendaciones/Referencias",personalidad:"Personalidad/Actitudes",capacidad_liderazgo:"Capacidad de liderazgo",otros:"Otros"},Br=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:[(n=r[3])==null?void 0:n.descripcion,":"]}),e("div",{className:"row mt-4",children:Object.entries(Mr).map(([o,d],h)=>s(p.exports.Fragment,{children:[e("div",{className:"col-12 col-xl-4",children:e("div",{className:"d-flex align-items-center h-100",children:e("h6",{children:d})})}),e("div",{className:"col-12 col-xl-8 mb-4",children:e(P,{cols:"col-2 col-md-2 col-xl-1 mx-auto",SECTIONID:`Q4S3S${h}`,handleChange:t,OPTIONS:Gr,answers:a,ANSWER:o})})]},o))})]})},Vr={respuesta1:"",respuesta2:"",respuesta3:"",area_estudio:"",titulacion:"",experiencia_laboral:"",competencia_laboral:"",posicionamiento_institucion_egreso:"",conocimiento_idiomas_extranjeros:"",recomendaciones:"",personalidad:"",capacidad_liderazgo:"",otros:""},qr=()=>{const[t,a]=p.exports.useState(Vr),[r,n]=p.exports.useState(!1),{section:o,questions:d,isLoading:h,userSectionAnswers:c,error:u}=le(),l=J(),{verifySession:i}=k(),m=async()=>{const x=b.loading("Guardando..."),v=await i(()=>W.saveSection3(t));if(!v.status)return b.error(v.statusText,{id:x});b.dismiss(x),l("/graduated/survey/section/4")},g=(x,v)=>a(G(T({},t),{[x]:v}));return p.exports.useEffect(()=>{var x;c&&(((x=c==null?void 0:c.respuesta3)==null?void 0:x.length)>0&&n(!0),a(c))},[c]),u.error?e(A,{message:u.message}):e(C,{children:h?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-bolder",children:o==null?void 0:o.descripcion}),e(Pr,{handleChange:g,answers:t,questions:d}),e(Dr,{handleChange:g,answers:t,questions:d}),!r&&e(Rr,{handleChange:g,answers:t,questions:d}),e(Br,{handleChange:g,answers:t,questions:d}),s("div",{className:"d-flex justify-content-center mt-5",children:[s(F,{to:"/graduated/survey/section/2",className:"btn btn-primary mr-2",children:[e("i",{className:"fas fa-arrow-left"})," Anterior"]}),s("button",{onClick:m,className:"btn btn-primary",children:["Siguiente ",e("i",{className:"fas fa-arrow-right"})]})]})]})})},Qr=["Si","No"],zr=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:["\xBF",(n=r[0])==null?void 0:n.descripcion,"?"]}),s("div",{className:"row align-items-center",children:[Qr.map(o=>e("div",{className:"col-1",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta1===o,name:"cbxCursos",onChange:()=>t("respuesta1",o),id:`cbxCursos${o}`}),e("label",{className:"form-check-label",htmlFor:`cbxCursos${o}`,children:o})]})},o)),a.respuesta1==="Si"?e("div",{className:"col-12 mt-3",children:e(w,{inputId:"txtCualesCursos",placeholder:"\xBFQu\xE9 cursos?",setValue:o=>t("cursos",o.target.value),value:a.cursos})}):null]})]})},Ur=["Si","No"],Hr=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:["\xBF",(n=r[1])==null?void 0:n.descripcion,"?"]}),s("div",{className:"row align-items-center",children:[Ur.map(o=>e("div",{className:"col-1",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta2===o,name:"cbxPosgrado",onChange:()=>t("respuesta2",o),id:`cbxPosgrado${o}`}),e("label",{className:"form-check-label",htmlFor:`cbxPosgrado${o}`,children:o})]})},o)),a.respuesta2==="Si"?e("div",{className:"col-12 mt-3",children:e(w,{inputId:"txtCualPosgrado",placeholder:"\xBFQu\xE9 posgrado?",setValue:o=>t("posgrado",o.target.value),value:a.posgrado})}):null]})]})},Wr={respuesta1:"",cursos:"",respuesta2:"",posgrado:""},Jr=()=>{const[t,a]=p.exports.useState(Wr),{section:r,questions:n,isLoading:o,userSectionAnswers:d,error:h}=le(),c=J(),{verifySession:u}=k(),l=(m,g)=>a(G(T({},t),{[m]:g})),i=async()=>{const m=b.loading("Guardando..."),g=await u(()=>W.saveSection4(t));if(!g.status)return b.error(g.statusText,{id:m});b.dismiss(m),c("/graduated/survey/section/5")};return p.exports.useEffect(()=>{d!=null&&d.respuesta1&&a(d)},[d]),h.error?e(A,{message:h.message}):e(C,{children:o?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-bolder",children:r==null?void 0:r.descripcion}),e(zr,{handleChange:l,answers:t,questions:n}),e(Hr,{handleChange:l,answers:t,questions:n}),s("div",{className:"d-flex justify-content-center mt-5",children:[s(F,{to:"/graduated/survey/section/3",className:"btn btn-primary mr-2",children:[e("i",{className:"fas fa-arrow-left"})," Anterior"]}),s("button",{onClick:i,className:"btn btn-primary",children:["Siguiente ",e("i",{className:"fas fa-arrow-right"})]})]})]})})},Yr=["Si","No"],Zr=({handleChange:t,answers:a,questions:r})=>{var n;return console.log(a),s("div",{className:"pb-4",children:[s("h5",{children:["\xBF",(n=r[0])==null?void 0:n.descripcion,"?"]}),s("div",{className:"row align-items-center",children:[Yr.map(o=>e("div",{className:"col-1",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta1===o,name:"cbxOrgSociales",onChange:()=>t("respuesta1",o),id:`cbxOrgSociales${o}`}),e("label",{className:"form-check-label",htmlFor:`cbxOrgSociales${o}`,children:o})]})},o)),a.respuesta1==="Si"?e("div",{className:"col-12 mt-3",children:e(w,{inputId:"txtCualesOrganizaciones",placeholder:"\xBFCuales?",setValue:o=>t("organizaciones_sociales",o.target.value),value:a.organizaciones_sociales})}):null]})]})},Kr=["Si","No"],Xr=({handleChange:t,answers:a,questions:r})=>{var n;return console.log(a),s("div",{className:"pb-4",children:[s("h5",{children:["\xBF",(n=r[1])==null?void 0:n.descripcion,"?"]}),s("div",{className:"row align-items-center",children:[Kr.map(o=>e("div",{className:"col-1",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta2===o,name:"cbxOrgProfesionistas",onChange:()=>t("respuesta2",o),id:`cbxOrgProfesionistas${o}`}),e("label",{className:"form-check-label",htmlFor:`cbxOrgProfesionistas${o}`,children:o})]})},o)),a.respuesta2==="Si"?e("div",{className:"col-12 mt-3",children:e(w,{inputId:"txtCualesOrganismos",placeholder:"\xBFCuales?",setValue:o=>t("organismos_profesionistas",o.target.value),value:a.organismos_profesionistas})}):null]})]})},en=["Si","No"],tn=({handleChange:t,answers:a,questions:r})=>{var n;return s("div",{className:"pb-4",children:[s("h5",{children:["\xBF",(n=r[2])==null?void 0:n.descripcion,"?"]}),e("div",{className:"row align-items-center",children:en.map(o=>e("div",{className:"col-1",children:s("div",{className:"form-check",children:[e("input",{className:"form-check-input",type:"radio",checked:a.respuesta3===o,name:"cbxAsosacioEgre",onChange:()=>t("respuesta3",o),id:`cbxAsosiacionEgre${o}`}),e("label",{className:"form-check-label",htmlFor:`cbxAsosiacionEgre${o}`,children:o})]})},o))})]})},an={respuesta1:"",organizaciones_sociales:"",respuesta2:"",organismos_profesionistas:"",respuesta3:""},sn=()=>{const[t,a]=p.exports.useState(an),{section:r,questions:n,isLoading:o,userSectionAnswers:d,error:h}=le(),c=J(),{verifySession:u}=k(),l=(m,g)=>a(G(T({},t),{[m]:g})),i=async()=>{const m=b.loading("Guardando..."),g=await u(()=>W.saveSection5(t));if(!g.status)return b.error(g.statusText,{id:m});b.dismiss(m),c("/graduated/survey/section/6")};return p.exports.useEffect(()=>{d!=null&&d.respuesta1&&a(d)},[d]),h.error?e(A,{message:h.message}):e(C,{children:o?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-bolder",children:r==null?void 0:r.descripcion}),e(Zr,{handleChange:l,answers:t,questions:n}),e(Xr,{handleChange:l,answers:t,questions:n}),e(tn,{handleChange:l,answers:t,questions:n}),s("div",{className:"d-flex justify-content-center mt-5",children:[s(F,{to:"/graduated/survey/section/4",className:"btn btn-primary mr-2",children:[e("i",{className:"fas fa-arrow-left"})," Anterior"]}),s("button",{onClick:i,className:"btn btn-primary",children:["Siguiente ",e("i",{className:"fas fa-arrow-right"})]})]})]})})},rn={respuesta1:""},nn=()=>{var m;const[t,a]=p.exports.useState(rn),{section:r,questions:n,isLoading:o,userSectionAnswers:d,error:h}=le(),c=J(),{verifySession:u}=k(),l=(g,x)=>a(G(T({},t),{[g]:x})),i=async()=>{const g=b.loading("Guardando resultados y generando acuse..."),x=await u(()=>W.saveSection6(t));if(!x.status)return b.error(x.statusText,{id:g});c("/graduated/survey"),b.success("Gracias por contestar la encuesta!",{id:g})};return p.exports.useEffect(()=>{d&&a(d)},[d]),h.error?e(A,{message:h.message}):e(C,{children:o?e(j,{}):s(C,{children:[e("h4",{className:"mb-4 border-bottom border-dark pb-3 text-center font-weight-bolder",children:r==null?void 0:r.descripcion}),e("div",{className:"pb-4 text-center",children:s("h5",{children:[(m=n[0])==null?void 0:m.descripcion,":"]})}),e("div",{className:"form-group",children:e("textarea",{rows:"10",className:"form-control",placeholder:"Escribela aqui...",onChange:g=>l("respuesta1",g.target.value),value:t.respuesta1})}),s("div",{className:"d-flex justify-content-center mt-5",children:[s(F,{to:"/graduated/survey/section/5",className:"btn btn-primary mr-2",children:[e("i",{className:"fas fa-arrow-left"})," Anterior"]}),s("button",{onClick:i,className:"btn btn-primary",children:["Finalizar ",e("i",{className:"fas fa-check"})]})]})]})})},on=()=>{const{params:t}=O();return e("div",{className:"container-fluid text-black",children:e("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12  col-xl-9 mx-auto",children:e("div",{className:"card shadow rounded-0 border-0",children:s("div",{className:"card-body",children:[parseInt(t.section_id)===1?e(cr,{}):null,parseInt(t.section_id)===2?e(Ar,{}):null,parseInt(t.section_id)===3?e(qr,{}):null,parseInt(t.section_id)===4?e(Jr,{}):null,parseInt(t.section_id)===5?e(sn,{}):null,parseInt(t.section_id)===6?e(nn,{}):null,parseInt(t.section_id)<1||parseInt(t.section_id)>6?e(ie,{to:"/graduated/survey",replace:!0}):null]})})})})},ne=({view:t})=>{const{user:a}=k(),{location:r}=O();return a!==null&&a.fk_rol===2?e(t,{}):e(ie,{to:"/login",replace:!0,state:{prevLocation:r.pathname}})},cn=({searchTerm:t,jobs:a,isLoading:r})=>{const{navigate:n,params:o}=O(),d=h=>{n(`/graduated/jobbank/jobs/${h.folio}`,{state:h})};return s("div",{children:[a.length>0&&!a.filter(h=>h.vacante.toLowerCase().includes(t.toLowerCase())).length>0&&t.length>0&&s("h5",{className:"text-center text-primary",children:["No se encontraron resultados para: '",t,"''"]}),r?e(j,{}):a.length>0?a.filter(h=>h.vacante.toLowerCase().includes(t.toLowerCase())).map(h=>s("div",{onClick:()=>d(h),style:{cursor:"pointer"},className:`card rounded-0 pt-3 px-3 border-left-0 border-right-0   ${parseInt(o.id)===h.folio?"bg-green-light shadow ":""}`,children:[e("h5",{className:"text-primary font-weight-bolder",children:h.vacante}),s("div",{className:"d-flex flex-column",children:[e("span",{className:"text-truncate ",children:h.nombre_comercial}),e("span",{className:"text-truncate ",children:h.ubicacion})]}),s("div",{className:"d-flex justify-content-between align-items-end h-100 mt-2",children:[s("p",{style:{fontSize:"13px"},children:[e("span",{className:"text-primary font-weight-bold",children:"cv"})," ",s("span",{className:"text-primary font-weight-bold",children:["|"," ",e("span",{className:"badge badge-primary ",children:h.solicitudes})," ",h.solicitudes===1?"Solicitud":"Solicitudes"]})]}),e("p",{children:e("span",{className:"badge badge-primary ",children:ce(h.fecha_creacion).locale("es").fromNow()})})]})]},h.folio)):e("h5",{className:"text-center",children:"Aqui apareceran los trabajos publicados recientemente"})]})},ot=p.exports.createContext();function ln({children:t}){const{user:a}=k(),[r,n]=p.exports.useState(!1),[o,d]=p.exports.useState(""),h=p.exports.useCallback(async()=>{if(a===null||a.fk_rol!==2)return;n(!0);const c=await ae.getCurriculum();if(c==="Pendiente"){d("Pendiente");return}const u=await V.getResourcesFromPublicFolder(`graduated/cvs/${c}`);d(u),n(!1)},[a,ae.getCurriculum]);return p.exports.useEffect(()=>{h()},[h]),e(ot.Provider,{value:{graduatedCurriculum:o,loadingCurriculum:r,getCurriculumHandler:h},children:t})}const xe=()=>p.exports.useContext(ot),dn=async()=>{try{return await(await fetch(`${S}/jobs`)).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},un=async t=>{try{return await(await fetch(`${S}/jobs/getone/${t}`)).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},mn=async t=>{try{return await(await fetch(`${S}/graduated/visit/${t}`,f.authPostConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},hn=async()=>{try{return await(await fetch(`${S}/graduated/postulations`,f.authGetConfig())).json()}catch(t){return console.log(t),f.ApiFetchError(t.message)}},pn=async t=>{try{return await(await fetch(`${S}/graduated/postulations/save/${t}`,f.authPostConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},fn=async t=>{try{return await(await fetch(`${S}/graduated/postulations/delete/${t}`,f.authDeleteConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}},gn=async t=>{try{return await(await fetch(`${S}/graduated/postulations/getone/${t}`,f.authGetConfig())).json()}catch(a){return console.log(a),f.ApiFetchError(a.message)}};var H={getJobs:dn,getOneJob:un,registerJobVisit:mn,registerPostulation:pn,getPostulation:gn,deletePostulation:fn,getGraduatedPostulations:hn};const bn=()=>{const{graduatedCurriculum:t}=xe(),[a,r]=p.exports.useState({}),[n,o]=p.exports.useState(!1),[d,h]=p.exports.useState(!1),[c,u]=p.exports.useState({}),{params:l,location:i}=O(),[m,g]=p.exports.useState({}),{verifySession:x}=k(),v=async()=>{const $=await x(()=>H.registerPostulation(l.id));if(!$.status)return b.error($.statusText);b.success("Curriculum enviado"),I()},y=async()=>{Y.fire(T({text:"\xBFDesea cancelar su postulacion?",icon:"info"},f.alertConfig)).then(async $=>{if($.isConfirmed){const R=await x(()=>H.deletePostulation(l.id));if(!R.status)return b.error(R.statusText);b.success("Postulaci\xF3n cancelada"),I()}})},I=p.exports.useCallback(async()=>{if(!l.id)return;h(!0);const $=await x(()=>H.getPostulation(l.id));if($!=null&&$.error){g($),h(!1);return}if(!$.id){u({}),h(!1);return}u($),h(!1)},[l.id]),_=p.exports.useCallback(async()=>{!l.id||await x(()=>H.registerJobVisit(l.id))},[l.id]),N=p.exports.useCallback(async()=>{if(!l.id)return;if(i.state!==null){r(i.state);return}o(!0);const $=await x(()=>H.getOneJob(l.id));if($!=null&&$.error){r($),o(!1);return}r($),o(!1)},[l.id,i.state]);return p.exports.useEffect(()=>{N(),I(),_()},[N,_,I]),m!=null&&m.error?e(A,{message:m.message}):e("div",{className:"p-2",children:n?e(j,{}):e(C,{children:a.folio?s(C,{children:[e("h3",{className:"text-primary btn-link text-left font-weight-bolder",children:a.vacante}),s("div",{className:"d-flex flex-column flex-lg-row flex-xl-row mt-3",children:[e("h5",{className:"font-weight-bold",children:a.nombre_comercial}),s("ul",{className:"custom-list",children:[e("li",{children:e("h6",{children:a.ubicacion})}),e("li",{children:s("span",{className:"badge p-2 badge-primary",children:[e("i",{className:"fas fa-clock"})," ",ce(a.fecha_creacion).locale("es").fromNow()]})})]})]}),s("div",{children:[s("p",{children:[e("i",{className:"fas fa-building text-primary"}),":"," ",a.tama\u00F1o," empleados"]}),s("p",{className:"text-black",children:[" ",a.descripcion]})]}),d?e(j,{}):c!=null&&c.id?s("div",{className:"d-flex flex-column align-items-center justify-content-center mt-5",children:[e("h5",{children:"Tu curriculum ha sido enviado."}),s("h6",{children:["Estado:"," ",e("span",{className:"text-primary",children:c.status})," "]}),e(be,{title:"Mi curriculum",buttonText:"Ver mi curriculum",buttonClass:"btn btn-primary btn-lg mt-3",modalClass:"modal-dialog modal-xl modal-dialog-scrollable",buttonCloseText:"Cerrar",children:e("object",{data:t,type:"application/pdf",frameBorder:"0",width:"100%",style:{height:"100vh",width:"100%"},children:s("div",{className:"d-flex flex-column justify-content-center",children:[s("p",{className:"text-center",children:["El navegador no soporta la visualizacion de PDF."," "]}),e("a",{className:"btn btn-primary",href:t,download:!0,children:"Descargar PDF"})]})})}),s("button",{onClick:y,className:"btn btn-primary btn-sm mt-5 align-self-end",children:["Eliminar postulacion ",e("i",{className:"fas fa-times"})]})]}):s("div",{className:"d-flex flex-column align-items-center justify-content-center mt-5",children:[e("button",{onClick:v,className:"btn btn-primary btn-lg mt-3",children:"Postularme"}),e("p",{className:"mt-4",children:"Nota: Debes subir un curriculum en tu perfil en formato PDF."})]})]}):e("div",{className:"d-flex justify-content-center align-items-center h-50 text-black",children:e("h3",{className:"text-primary font-weight-bolder text-center",children:"\xA1Selecciona un trabajo de la lista para saber mas y postularte!"})})})})},Re=()=>{const{verifySession:t}=k(),a=ge(),{navigate:r}=O(),[n,o]=p.exports.useState({error:!1,statusText:""}),{hookData:d,isLoading:h,refreshData:c}=q(()=>t(H.getJobs,c),[]),[u,l]=p.exports.useState(""),i=async()=>{const m=await t(()=>ae.getProfile(),i);if(console.log(m),m.error){o(m);return}if(!m.id)return r("/profile"),b("Antes de empezar a ver trabajos completa la informacion de tu perfil.")};return p.exports.useEffect(()=>{i()},[]),n.error?e(A,{message:n.message}):e("div",{className:"mb-3",children:e("div",{ref:a,"data-aos":"flip-down","data-aos-duration":"300",className:"col-md-12 col-lg-12 col-xl-11 mx-auto",children:e("div",{className:"card shadow rounded",children:e("div",{className:"card-body",children:s("div",{className:"row",children:[e("div",{className:"col-md-5 col-lg-5 col-xl-5",children:s("div",{style:{height:"63vh"},children:[s("div",{className:"input-group w-100 mb-3 px-2 overflow-auto",children:[e("input",{type:"text",className:"form-control bg-light",placeholder:"Buscar trabajos...","aria-label":"Search",autoComplete:"off","aria-describedby":"basic-addon2",onChange:m=>l(m.target.value)}),e("div",{className:"input-group-append",children:e("button",{className:"btn btn-primary",type:"button",children:e("i",{className:"fas fa-search fa-sm"})})})]}),e("div",{className:"purple-scroll ",style:{overflowY:"scroll",maxHeight:"55vh"},children:e(cn,{isLoading:h,searchTerm:u,jobs:d})})]})}),e("div",{className:"col-md-7 col-lg-7 col-xl-7",children:e("div",{className:"purple-scroll",style:{overflowY:"scroll",maxHeight:"55vh"},children:e(bn,{})})})]})})})})})},xn=({job:t})=>{const[a,r]=p.exports.useState(!1),n=()=>r(!a),{navigate:o,params:d}=O(),h=c=>{o(`/graduated/jobbank/postulations/${c.fk_vacante}`,{state:c})};return s("div",{onClick:()=>h(t),style:{cursor:"pointer"},className:`card rounded-0 pt-3 px-3 border-left-0 border-right-0   ${parseInt(d.id)===t.fk_vacante?"bg-green-light shadow ":""}`,children:[e("h5",{className:"text-primary font-weight-bolder",children:t.vacante}),s("div",{className:"d-flex flex-column",children:[e("span",{className:"text-truncate ",children:t.nombre_comercial}),e("span",{className:"text-truncate ",children:t.ubicacion})]}),s("div",{className:"d-flex justify-content-between align-items-end h-100 mt-2",children:[s("p",{style:{fontSize:"13px"},children:[e("span",{className:"text-primary font-weight-bold",children:"cv"})," ",s("span",{className:"text-primary font-weight-bold",children:["| ",e("span",{className:"badge badge-primary ",children:t.solicitudes})," ",t.solicitudes===1?"Solicitud":"Solicitudes"]})]}),s("p",{children:[e("span",{className:"badge badge-primary mr-2",children:ce(t.fecha_creacion).locale("es").fromNow()}),s("span",{className:`text-black ${a?"":"d-none"}`,children:[t.publicacion_status," "]}),e("span",{onMouseEnter:n,onMouseLeave:n,className:"badge badge-primary ",children:t.publicacion_status==="Cerrada"?e("i",{className:"fas fa-lock"}):e("i",{className:"fas fa-lock-open"})})]})]})]},t.fk_vacante)},vn=({searchTerm:t,postulations:a,isLoading:r})=>s("div",{children:[a.length&&!a.filter(n=>n.vacante.toLowerCase().includes(t.toLowerCase())).length>0&&t.length>0&&s("h5",{className:"text-center text-primary",children:["No se encontraron resultados para: '",t,"''"]}),r?e(j,{}):a.length>0?a.filter(n=>n.vacante.toLowerCase().includes(t.toLowerCase())).map(n=>e(xn,{job:n},n.fk_vacante)):e("h5",{className:"text-center",children:"Aqui aparecer\xE1n los trabajos en los que te has postulado."})]}),Nn=({refreshData:t})=>{const[a,r]=p.exports.useState({}),[n,o]=p.exports.useState(!1),[d,h]=p.exports.useState(!1),[c,u]=p.exports.useState({}),{params:l,location:i,navigate:m}=O(),{graduatedCurriculum:g}=xe(),{verifySession:x}=k(),v=async()=>{const N=await x(()=>H.registerPostulation(l.id));if(!N.status)return b.error(N.statusText);b.success("Curriculum enviado"),I()},y=async()=>{Y.fire(T({text:"\xBFDesea cancelar su postulaci\xF3n?",icon:"info"},f.alertConfig)).then(async N=>{if(N.isConfirmed){const $=await x(()=>H.deletePostulation(l.id));if(!$.status)return b.error($.statusText);b.success("Postulaci\xF3n cancelada"),m("/graduated/jobbank/postulations"),await I(),await t(),r(null)}})},I=p.exports.useCallback(async()=>{if(!l.id)return;h(!0);const N=await x(()=>H.getPostulation(l.id));if(!N.id){u({}),h(!1);return}u(N),h(!1)},[l.id]),_=p.exports.useCallback(async()=>{if(!l.id)return;if(i.state!==null){r(i.state);return}o(!0);const N=await x(()=>H.getOneJob(l.id));if(N!=null&&N.error){r(N),o(!1);return}r(N),o(!1)},[l.id,i.state]);return p.exports.useEffect(()=>{_(),I()},[_,I]),a!=null&&a.error?n?e(j,{}):e(A,{message:a.message}):e("div",{className:"p-2",children:n?e(j,{}):e(C,{children:a!=null&&a.fk_vacante?s(C,{children:[e("h3",{className:"text-primary btn-link text-left font-weight-bolder",children:a.vacante}),s("div",{className:"d-flex flex-column flex-lg-row flex-xl-row mt-3",children:[e("h5",{className:"font-weight-bold",children:a.nombre_comercial}),s("ul",{className:"custom-list",children:[e("li",{children:e("h6",{children:a.ubicacion})}),e("li",{children:s("span",{className:"badge p-2 badge-primary",children:[e("i",{className:"fas fa-clock"})," ",ce(a.fecha_creacion).locale("es").fromNow()]})})]})]}),s("div",{children:[s("p",{children:[e("i",{className:"fas fa-building text-primary"}),":"," ",a.tama\u00F1o," empleados"]}),s("p",{className:"text-black",children:[" ",a.descripcion]})]}),d?e(j,{}):c!=null&&c.id?s("div",{className:"d-flex flex-column align-items-center justify-content-center mt-5",children:[e("h5",{children:"Tu curriculum ha sido enviado."}),s("h6",{children:["Estado:"," ",e("span",{className:"text-primary",children:c.status})," "]}),e(be,{title:"Mi curriculum",buttonText:"Ver mi curriculum",buttonClass:"btn btn-primary btn-lg mt-3",modalClass:"modal-dialog modal-xl modal-dialog-scrollable",buttonCloseText:"Cerrar",children:e("object",{data:g,type:"application/pdf",frameBorder:"0",width:"100%",style:{height:"100vh",width:"100%"},children:s("div",{className:"d-flex flex-column justify-content-center",children:[s("p",{className:"text-center",children:["El navegador no soporta la visualizacion de PDF."," "]}),e("a",{className:"btn btn-primary",href:g,download:!0,children:"Descargar PDF"})]})})}),s("button",{onClick:y,className:"btn btn-primary btn-sm mt-5 align-self-end",children:["Cancelar postulaci\xF3n ",e("i",{className:"fas fa-times"})]})]}):e("div",{className:"d-flex flex-column align-items-center justify-content-center mt-5",children:e("button",{onClick:v,className:"btn btn-primary btn-lg mt-3",children:"Postularme"})})]}):e("div",{className:"d-flex justify-content-center align-content-center h-50 text-black",children:e("h3",{className:"text-primary font-weight-bolder text-center",children:"\xA1Selecciona una postulaci\xF3n!"})})})})},Ge=()=>{const[t,a]=p.exports.useState(""),{hookData:r,isLoading:n,refreshData:o,error:d}=q(H.getGraduatedPostulations,[]),h=ge();return d!=null&&d.error?e(A,{message:d.message}):e("div",{className:"mb-3",children:e("div",{ref:h,"data-aos":"flip-up","data-aos-duration":"300",className:"col-md-12 col-lg-12 col-xl-11 mx-auto",children:e("div",{className:"card shadow rounded",children:e("div",{className:"card-body",children:s("div",{className:"row",children:[e("div",{className:"col-md-5 col-lg-5 col-xl-5",children:s("div",{style:{height:"63vh"},children:[s("div",{className:"input-group w-100 mb-3",children:[e("input",{type:"text",className:"form-control bg-light",placeholder:"Buscar en mis postulaciones...","aria-label":"Search",autoComplete:"off","aria-describedby":"basic-addon2",onChange:c=>a(c.target.value)}),e("div",{className:"input-group-append",children:e("button",{className:"btn btn-primary",type:"button",children:e("i",{className:"fas fa-search fa-sm"})})})]}),e("div",{className:"purple-scroll",style:{overflowY:"scroll",maxHeight:"55vh"},children:e(vn,{postulations:r,isLoading:n,searchTerm:t})})]})}),e("div",{className:"col-md-7 col-lg-7 col-xl-7",children:e("div",{className:"purple-scroll",style:{overflowY:"scroll",maxHeight:"55vh"},children:e(Nn,{refreshData:o})})})]})})})})})},yn=[{path:"/graduated/survey",element:e(ne,{view:qs})},{path:"/graduated/survey/section/:section_id",element:e(ne,{view:on})},{path:"/graduated/jobbank/jobs",element:e(ne,{view:Re})},{path:"/graduated/jobbank/jobs/:id",element:e(ne,{view:Re})},{path:"/graduated/jobbank/postulations",element:e(ne,{view:Ge})},{path:"/graduated/jobbank/postulations/:id",element:e(ne,{view:Ge})}],wn={correo:"",clave:"",confirmar:""},Sn=()=>{const{form:t,setForm:a,handleEntriesChange:r}=Z(wn),[n]=p.exports.useState(!0),[o,d]=p.exports.useState(),[h,c]=p.exports.useState(!1),{user:u,verifySession:l}=k(),i=p.exports.useCallback(async()=>{d(!0);const g=await l(Se.getProfile,i);if(!g.id){d(!1);return}a(g),d(!1)},[]),m=async g=>{g.preventDefault(),h||(delete t.clave,delete t.confirmar);const x=b.loading("Guardando..."),v=await l(()=>Se.saveOrUpdateProfile(t));if(!v.status)return b.error(v.statusText,{id:x});b.success(v.statusText,{id:x}),i()};return p.exports.useEffect(()=>{i()},[i]),p.exports.useEffect(()=>{a(G(T({},t),{correo:u.correo}))},[u]),e(C,{children:o?e(j,{}):e(se,{title:"Mi perfil",children:s("form",{onSubmit:m,children:[e(fe,{children:s(K,{id:"DatosUsuario",text:"Datos del usuario",buttonClass:"btn btn-link btn-block text-left text-primary font-weight-bolder collapsed",children:[n?e(C,{children:s("div",{className:"form-check mb-4 d-flex justify-content-end",children:[e("input",{style:{cursor:"pointer"},className:"form-check-input",onChange:()=>c(!h),type:"checkbox",id:"changeClave"}),e("label",{style:{cursor:"pointer"},className:"form-check-label mr-3",htmlFor:"changeClave",children:"\xBFCambiar clave?"})]})}):null,s("div",{className:"row",children:[e("div",{className:`${h?"col-lg-3":"col-lg-6"}`,children:e(w,{inputId:"txtCorreo",placeholder:"Correo",type:"email",name:"correo",setValue:r,value:t.correo})}),h?s(C,{children:[e("div",{className:"col-lg-4","data-aos":`${n?"fade-down":""}`,children:e(w,{inputId:"txtClave",placeholder:"Clave",type:"password",name:"clave",setValue:r})}),e("div",{className:"col-lg-4","data-aos":`${n?"fade-down":""}`,children:e(w,{inputId:"txtClaveCon",placeholder:"Confirmar",type:"password",name:"confirmar",setValue:r})})]}):null]})]})}),s("div",{className:"d-flex mt-3 justify-content-center",children:[e("button",{type:"submit",className:"btn btn-primary mx-3",children:n?"Guardar cambios":"Guardar"}),e(F,{to:-1,className:"btn btn-danger",children:"Cancelar"})]})]})})})},Cn=()=>{const{graduatedCurriculum:t,loadingCurriculum:a,getCurriculumHandler:r}=xe(),[n,o]=p.exports.useState(null),d=p.exports.useRef(),{verifySession:h}=k(),c=async()=>{if(n===null){d.current.click();return}let u=new FormData;if(u.append("cv",n),n===null)return;const l=b.loading("Validando y subiendo..."),i=await h(()=>ae.uploadCurriculum(u));if(!i.status)return b.error(i.statusText,{id:l});b.success("Curriculum subido, \xA1ya puedes empezar a postularte!",{id:l}),o(null),r()};return e("div",{className:"col-md-12 col-lg-10 mx-auto",children:t==="Pendiente"?s("div",{className:"d-flex mt-5 flex-column justify-content-center h-100 align-items-center",children:[e("h2",{className:"font-weight-bolder text-primary",children:"Aun no tienes un curriculum"}),n!==null&&s("div",{"data-aos":"flip-left",className:"d-flex flex-column align-items-center justify-content-center card p-3 shadow border-0 ",children:[s("h5",{children:["Archivo seleccionado: ",n==null?void 0:n.name]}),s("button",{onClick:()=>o(null),className:"btn btn-primary btn-sm",children:["Quitar ",e("i",{className:"fas fa-times"})]})]}),e("div",{className:"form-group",children:e("input",{ref:d,type:"file",onChange:u=>o(u.target.files[0]),hidden:!0})}),e("button",{onClick:c,className:"btn btn-primary btn-lg mt-3",children:n===null?"Seleccionar archivo":"Subir mi curriculum"}),e("h4",{className:"mt-5 border-bottom text-black border-dark",children:"El curriculum lo necesitaras para postularte en la bolsa de trabajo"})]}):s("div",{children:[s("div",{className:"d-flex justify-content-end h-100 align-items-center",children:[n!==null&&s("p",{className:"mr-2 align-self-center",children:["Archivo seleccionado:"," ",e("span",{className:"text-primary",children:n==null?void 0:n.name})]}),e("button",{onClick:c,className:"btn btn-primary btn-sm mb-2",children:n===null?"Cambiar":"Subir nuevo curriculum"}),n!==null&&s("button",{onClick:()=>o(null),className:"btn btn-primary btn-sm mb-2 ml-2",children:["Quitar ",e("i",{className:"fas fa-times"})]}),e("input",{ref:d,type:"file",onChange:u=>o(u.target.files[0]),hidden:!0})]}),e("div",{className:"card shadow-lg",children:s("div",{className:"card-body",children:[e("div",{className:"form-group",children:e("input",{ref:d,type:"file",onChange:u=>o(u.target.files[0]),hidden:!0})}),a?e(j,{}):e("object",{data:t,type:"application/pdf",frameBorder:"0",width:"100%",style:{height:"100vh",width:"100%"},children:s("div",{className:"d-flex flex-column justify-content-center",children:[s("p",{className:"text-center",children:["El navegador no soporta la visualizacion de PDF."," "]}),e("a",{className:"btn btn-primary",href:t,download:!0,children:"Descargar PDF"})]})})]})})]})})},_n=()=>{const{getCurriculumHandler:t}=xe(),{form:a,setForm:r,handleChange:n}=Z(Je),[o,d]=p.exports.useState("Profile"),{form:h,setForm:c,handleChange:u}=Z(Ye.idioma_extranjero),[l]=p.exports.useState(!0),[i,m]=p.exports.useState(!1),[g,x]=p.exports.useState(!1),{user:v,verifySession:y}=k(),I=p.exports.useCallback(async()=>{m(!0);const N=await y(ae.getProfile,I);if(N.error){r(N),m(!1);return}if(!N.id){m(!1);return}const L=N,{idioma_extranjero:$}=L,R=ve(L,["idioma_extranjero"]);r(R),c($),m(!1)},[]),_=async N=>{N.preventDefault();const $=G(T({},a),{idioma_extranjero:h});g||(delete $.clave,delete $.confirmar);const R=b.loading("Guardando..."),L=await y(()=>ae.saveOrUpdateProfile($));if(!L.status)return b.error(L.statusText,{id:R});b.success(L.statusText,{id:R}),I(),L.statusText==="Perfil creado correctamente."&&(t(),d("Curriculum"),b("Puedes subir tu curriculum ahora para poder postularte."))};return p.exports.useEffect(()=>{I()},[I]),p.exports.useEffect(()=>{r(G(T({},a),{correo:v.correo}))},[v]),a.error?e(A,{message:a.message}):s("div",{children:[e("div",{className:"d-flex justify-content-center mb-3",children:(a==null?void 0:a.id)&&s("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[e("button",{onClick:({target:N})=>d(N.value),value:"Profile",className:`btn btn-primary btn-outline-primary ${o==="Profile"&&"active"}`,children:"Perfil"}),e("button",{onClick:({target:N})=>d(N.value),value:"Curriculum",className:`btn btn-primary btn-outline-primary ${o==="Curriculum"&&"active"}`,children:"Curriculum"})]})}),i?e(j,{}):o==="Profile"?e(se,{title:"Mi perfil",children:e(Ze,{handleSubmit:_,graduated:a,handleEntriesChange:n,handleIdiomaExtranjeroChange:u,onEditing:l,onChangePassword:g,toggleChangePassword:x,idiomaExtranjero:h})}):e(Cn,{getProfileHandler:I,curriculum:a.curriculum})]})},En=()=>{const{form:t,setForm:a,handleChange:r}=Z(qe),[n]=p.exports.useState(!0),[o,d]=p.exports.useState(!1),[h,c]=p.exports.useState(!1),{user:u,verifySession:l}=k(),i=p.exports.useCallback(async()=>{c(!0);const g=await l(Ce.getProfile,i);if(!g.id){c(!1);return}a(g),c(!1)},[]),m=async g=>{g.preventDefault(),o||(delete t.clave,delete t.confirmar);const x=b.loading("Guardando..."),v=await l(()=>Ce.saveOrUpdateProfile(t));if(!v.status)return b.error(v.statusText,{id:x});b.success(v.statusText,{id:x}),i()};return p.exports.useEffect(()=>{i()},[i]),p.exports.useEffect(()=>{a(G(T({},t),{correo:u.correo}))},[u]),e(C,{children:h?e(j,{}):e(se,{title:"Mi perfil",children:e(Qe,{handleSubmit:m,company:t,onEditing:n,onChangePassword:o,handleChange:r,toggleChangePassword:d})})})},jn=()=>{const{user:t}=k();return s("div",{className:"container-fluid",children:[t.fk_rol===1&&e(Sn,{}),t.fk_rol===2&&e(_n,{}),t.fk_rol===3&&e(En,{})]})},Me=({view:t})=>{const{user:a}=k();return a!==null?e(t,{}):e(ie,{to:"/login",replace:!0})},we=[{path:"/",element:e(Me,{view:Ot})},{path:"/profile",element:e(Me,{view:jn})},...Bt,...as,...Vs,...yn,{path:"*",element:e(At,{})}];function kn(){return p.exports.useEffect(()=>{ft.init()},[]),s(_t,{children:[e(ln,{children:e($t,{children:e(gt,{children:we==null?void 0:we.map(t=>e(bt,{path:t.path,element:t.element},t.path))})})}),e(xt,{})]})}vt.render(e(Nt,{children:e(kn,{})}),document.getElementById("root"));
